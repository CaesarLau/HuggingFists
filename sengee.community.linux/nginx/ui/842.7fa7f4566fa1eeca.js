"use strict";(self.webpackChunksengee_ui=self.webpackChunksengee_ui||[]).push([[842],{70842:(mt,P,p)=>{p.r(P),p.d(P,{PromptModule:()=>st});var g=p(69808),h=p(77152),c=p(62545),C=p(64219),Z=p(82886),f=p(50489),A=p(68306),I=p(46055),J=p(99857),t=p(5e3),S=p(24091),F=p(65882),M=p(5156),O=p(404),L=p(15052),x=p(72394),b=p(55535),_=p(63640),Q=p(57781);const z=[{i18n:"zh_CN",value:"zh_CN"},{i18n:"en_US",value:"en_US"}],v=[{i18n:"prompt.simple",value:"simple"},{i18n:"prompt.complex",value:"complex"},{i18n:"prompt.agent",value:"agent"}];var T=p(41894),u=p(11047),d=p(93075),w=p(78054),s=p(50939),m=p(89445);function N(o,l){if(1&o&&(t._UZ(0,"nz-option",9),t.ALo(1,"nzI18n")),2&o){const n=l.$implicit;t.Q6J("nzValue",n.value)("nzLabel",t.lcZ(1,2,n.i18n))}}function V(o,l){if(1&o&&(t._UZ(0,"nz-option",9),t.ALo(1,"nzI18n")),2&o){const n=l.$implicit;t.Q6J("nzValue",n.value)("nzLabel",t.lcZ(1,2,n.i18n))}}function G(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"textarea",10),t.NdJ("ngModelChange",function(a){return t.CHM(n),t.oxw().prompt.simplePrompt=a}),t.qZA()}if(2&o){const n=t.oxw();t.Q6J("ngModel",n.prompt.simplePrompt)}}function U(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"nzI18n"),t.qZA(),t.TgZ(4,"td",14)(5,"input",15),t.NdJ("ngModelChange",function(a){return t.CHM(n).$implicit.value=a}),t.qZA()()()}if(2&o){const n=l.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,2,n.i18n)),t.xp6(3),t.Q6J("ngModel",n.value)}}function $(o,l){if(1&o&&(t.TgZ(0,"div")(1,"nz-table",11,12)(3,"thead")(4,"tr")(5,"th"),t._uU(6,"Key"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Value"),t.qZA()()(),t.TgZ(9,"tbody"),t.YNc(10,U,6,4,"tr",13),t.qZA()()()),2&o){const n=t.MAs(2),e=t.oxw();t.xp6(1),t.Q6J("nzData",e.prompt.complexPrompt)("nzFrontPagination",!1),t.xp6(9),t.Q6J("ngForOf",n.data)}}function H(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",14)(4,"input",15),t.NdJ("ngModelChange",function(a){return t.CHM(n).$implicit.value=a}),t.qZA()()()}if(2&o){const n=l.$implicit;t.xp6(2),t.Oqu(n.key),t.xp6(2),t.Q6J("ngModel",n.value)}}function R(o,l){if(1&o&&(t.TgZ(0,"div")(1,"nz-table",11,16)(3,"thead")(4,"tr")(5,"th"),t._uU(6,"Key"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Value"),t.qZA()()(),t.TgZ(9,"tbody"),t.YNc(10,H,5,2,"tr",13),t.qZA()()()),2&o){const n=t.MAs(2),e=t.oxw();t.xp6(1),t.Q6J("nzData",e.prompt.agentPrompt)("nzFrontPagination",!1),t.xp6(9),t.Q6J("ngForOf",n.data)}}let y=(()=>{class o{constructor(){this.types=v,this.languages=z}ngOnInit(){var n;if(!this.prompt)return void(this.prompt={lang:"zh_CN",promptTemplateType:"simple",simplePrompt:"",complexPrompt:[{i18n:"prompt.start",value:""},{i18n:"prompt.prompt",value:""},{i18n:"prompt.end",value:""}],agentPrompt:[{key:"Prefix",value:""},{key:"Prompt",value:""},{key:"Suffix",value:""}]});let e={prefix:"",prompt:"",suffix:""};try{e=JSON.parse(this.prompt.promptTemplate)}catch(a){}this.prompt={id:this.prompt.id,name:this.prompt.name,lang:this.prompt.lang,model:this.prompt.model,modelFamily:this.prompt.modelFamily,promptTemplateType:(null===(n=this.prompt.promptTemplateType)||void 0===n?void 0:n.toLocaleLowerCase())||"simple",simplePrompt:(null==e?void 0:e.prompt)||this.prompt.promptTemplate,complexPrompt:[{i18n:"prompt.start",value:null==e?void 0:e.prefix},{i18n:"prompt.prompt",value:null==e?void 0:e.prompt},{i18n:"prompt.end",value:null==e?void 0:e.suffix}],agentPrompt:[{key:"Prefix",value:null==e?void 0:e.prefix},{key:"Prompt",value:null==e?void 0:e.prompt},{key:"Suffix",value:null==e?void 0:e.suffix}]}}getPrompt(){const n=(0,Q.d9)(this.prompt);return n.promptTemplate="simple"===n.promptTemplateType?JSON.stringify({prompt:n.simplePrompt}):JSON.stringify({prefix:n[`${n.promptTemplateType}Prompt`][0].value,prompt:n[`${n.promptTemplateType}Prompt`][1].value,suffix:n[`${n.promptTemplateType}Prompt`][2].value}),n.promptTemplateType=n.promptTemplateType.toLocaleUpperCase(),delete n.simplePrompt,delete n.complexPrompt,delete n.agentPrompt,n}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-prompt-form"]],inputs:{prompt:"prompt"},decls:36,vars:41,consts:[[1,"box"],["nz-row",""],["nz-col","",1,"form-label",3,"nzSpan"],["nz-col","","nz-input","","type","text",1,"form-nz",3,"nzSpan","ngModel","ngModelChange"],["nz-col","",1,"form-nz",3,"nzSpan","ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-col","",3,"nzSpan","ngSwitch"],["rows","7","nz-input","",3,"ngModel","ngModelChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"nzValue","nzLabel"],["rows","7","nz-input","",3,"ngModel","ngModelChange"],[3,"nzData","nzFrontPagination"],["complexTable",""],[4,"ngFor","ngForOf"],[2,"padding","0"],["nz-input","","type","text",3,"ngModel","ngModelChange"],["agentTable",""]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3),t.ALo(4,"nzI18n"),t.qZA(),t.TgZ(5,"input",3),t.NdJ("ngModelChange",function(i){return e.prompt.name=i}),t.qZA()(),t.TgZ(6,"div",1)(7,"span",2),t._uU(8),t.ALo(9,"nzI18n"),t.qZA(),t.TgZ(10,"nz-select",4),t.NdJ("ngModelChange",function(i){return e.prompt.lang=i}),t.YNc(11,N,2,4,"nz-option",5),t.qZA()(),t.TgZ(12,"div",1)(13,"span",2),t._uU(14),t.ALo(15,"nzI18n"),t.qZA(),t.TgZ(16,"input",3),t.NdJ("ngModelChange",function(i){return e.prompt.model=i}),t.qZA()(),t.TgZ(17,"div",1)(18,"span",2),t._uU(19),t.ALo(20,"nzI18n"),t.qZA(),t.TgZ(21,"input",3),t.NdJ("ngModelChange",function(i){return e.prompt.modelFamily=i}),t.qZA()(),t.TgZ(22,"div",1)(23,"span",2),t._uU(24),t.ALo(25,"nzI18n"),t.qZA(),t.TgZ(26,"nz-select",4),t.NdJ("ngModelChange",function(i){return e.prompt.promptTemplateType=i}),t.YNc(27,V,2,4,"nz-option",5),t.qZA()(),t.TgZ(28,"div",1)(29,"span",2),t._uU(30),t.ALo(31,"nzI18n"),t.qZA(),t.TgZ(32,"div",6),t.YNc(33,G,1,1,"textarea",7),t.YNc(34,$,11,3,"div",8),t.YNc(35,R,11,3,"div",8),t.qZA()()()),2&n&&(t.xp6(2),t.Q6J("nzSpan",3),t.xp6(1),t.hij("",t.lcZ(4,29,"base.name"),":\xa0\xa0"),t.xp6(2),t.Q6J("nzSpan",21)("ngModel",e.prompt.name),t.xp6(2),t.Q6J("nzSpan",3),t.xp6(1),t.hij("",t.lcZ(9,31,"base.language"),":\xa0\xa0"),t.xp6(2),t.Q6J("nzSpan",21)("ngModel",e.prompt.lang),t.xp6(1),t.Q6J("ngForOf",e.languages),t.xp6(2),t.Q6J("nzSpan",3),t.xp6(1),t.hij("",t.lcZ(15,33,"base.model"),":\xa0\xa0"),t.xp6(2),t.Q6J("nzSpan",21)("ngModel",e.prompt.model),t.xp6(2),t.Q6J("nzSpan",3),t.xp6(1),t.hij("",t.lcZ(20,35,"prompt.modelFamily"),":\xa0\xa0"),t.xp6(2),t.Q6J("nzSpan",21)("ngModel",e.prompt.modelFamily),t.xp6(2),t.Q6J("nzSpan",3),t.xp6(1),t.hij("",t.lcZ(25,37,"base.type"),":\xa0\xa0"),t.xp6(2),t.Q6J("nzSpan",21)("ngModel",e.prompt.promptTemplateType),t.xp6(1),t.Q6J("ngForOf",e.types),t.xp6(2),t.Q6J("nzSpan",3),t.xp6(1),t.hij("",t.lcZ(31,39,"prompt.template"),":\xa0\xa0"),t.xp6(2),t.Q6J("nzSpan",21)("ngSwitch",e.prompt.promptTemplateType),t.xp6(1),t.Q6J("ngSwitchCase","simple"),t.xp6(1),t.Q6J("ngSwitchCase","complex"),t.xp6(1),t.Q6J("ngSwitchCase","agent"))},directives:[T.SK,T.t3,u.Zp,d.Fj,d.JJ,d.On,w.Vq,g.sg,w.Ip,g.RF,g.n9,s.N8,s.Om,s.$Z,s.Uo,s._C,s.p0],pipes:[m.o9],styles:[".box[_ngcontent-%COMP%]{padding:15px;line-height:32px;text-align:right}.box[_ngcontent-%COMP%]   .ant-row[_ngcontent-%COMP%]{margin-bottom:12px}.box[_ngcontent-%COMP%]   .ant-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.box[_ngcontent-%COMP%]   .ant-row[_ngcontent-%COMP%]   nz-select[_ngcontent-%COMP%]{text-align:left}.box[_ngcontent-%COMP%]   .ant-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .ant-input[_ngcontent-%COMP%]{border-top:none;border-bottom:none}"]}),o})();const Y=["table"],q=["promptForm"];function D(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"i",17),t.NdJ("click",function(){return t.CHM(n),t.oxw().addPrompt()}),t.ALo(1,"nzI18n"),t.qZA()}2&o&&t.Q6J("nz-tooltip",t.lcZ(1,1,"base.add"))}function j(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"nz-upload",18),t.NdJ("nzChange",function(a){return t.CHM(n),t.oxw().handleChange(a)}),t.ALo(1,"nzI18n"),t._UZ(2,"i",19),t.qZA()}if(2&o){const n=t.oxw();t.Q6J("nzShowUploadList",!1)("nzBeforeUpload",n.beforeUpload)("nzAction",n.addOperatorPath)("nzData",n.getOperatorData)("nz-tooltip",t.lcZ(1,6,"base.upload")),t.xp6(2),t.Q6J("fontsize",22)}}function B(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"i",20),t.NdJ("click",function(){return t.CHM(n),t.oxw().batchDelete()}),t.ALo(1,"nzI18n"),t.qZA()}if(2&o){t.oxw();const n=t.MAs(16);t.Q6J("disabled",!(null!=n&&n.indeterminate||null!=n&&n.checked))("nz-tooltip",t.lcZ(1,2,"BatchDelete.title"))}}function E(o,l){if(1&o&&(t.TgZ(0,"div",21),t._uU(1),t.qZA()),2&o){const n=l.$implicit;t.Q6J("nz-tooltip",n.promptTemplate),t.xp6(1),t.Oqu(n.promptTemplate)}}function X(o,l){if(1&o&&(t.ynx(0),t._UZ(1,"app-prompt-form",22,23),t.BQk()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("prompt",n.curItem)}}const K=function(o){return{maxWidth:o}};let W=(()=>{class o extends J.r{constructor(n,e){super(n),this.i=n,this.deleteSer=e,this.cardView=!1,this.groupType=I.b0.PromptGrp,this.columns=[{type:"checkbox"},{type:"index"},{i18n:"base.name",field:"name"},{i18n:"base.language",field:"lang",dataI18n:!0},{i18n:"base.model",field:"model"},{i18n:"prompt.modelFamily",field:"modelFamily"},{i18n:"base.type",field:"promptTemplateTypeI18n",dataI18n:!0},{i18n:"prompt.template",field:"promptTemplate",render:"templateColumn"},{buttons:[{icon:"xiugai",tip:"base.edit",click:a=>this.onEdit(a)},{icon:"shanchu",tip:"base.delete",type:"delete",confirmTip:"Prompt",click:a=>this.deleteConfirm(a)}]}],this.pageInfo={pageIndex:1,pageSize:10,total:0},this.beforeUpload=(a,i)=>new A.y(r=>{r.next(!0),r.complete()}),this.isVisible=!1,this.api=n.get(f.Xp)}ngOnInit(){var n;this.addOperatorPath=this.api.importPrompt(null===(n=this.selectedGroup)||void 0===n?void 0:n.id)}getOperatorList(n=!1){this.selectedGroup?(this.api.getPromptList(this.selectedGroup.id,this.pageInfo.pageIndex,this.pageInfo.pageSize).subscribe(e=>{this.listOfData=e.content.map(a=>(a.promptTemplateTypeI18n=a.promptTemplateType?`prompt.${a.promptTemplateType.toLocaleLowerCase()}`:"",a)),this.pageInfo.total=e.totalElements}),n&&this.message.success(`${this.i18n.translate("base.refresh")}${this.i18n.translate("base.success")}`)):this.listOfData=null}pageChangeHandler(n){this.pageInfo.pageIndex=n.pageIndex,this.pageInfo.pageSize=n.pageSize,this.getOperatorList()}batchDelete(){this.deleteSer.open().then(()=>{this.api.deleteBatchPrompt(this.listOfData.filter(n=>n.selected).map(n=>n.id)).subscribe(()=>{this.message.success(`${this.i18n.translate("base.delete")}${this.i18n.translate("base.success")}`),this.getOperatorList()})})}deleteConfirm(n){this.api.deleteBatchPrompt([n.id]).subscribe(e=>{this.message.success(`${this.i18n.translate("base.delete")}${this.i18n.translate("base.success")}`),this.getOperatorList()})}addPrompt(){this.isVisible=!0}onEdit(n){this.curItem=n,this.isVisible=!0}handleOk(){const n=this.promptForm.getPrompt();n.id?this.api.editPrompt(n.id,n).subscribe(e=>{this.message.success(`${this.i18n.translate("base.update")}${this.i18n.translate("base.success")}`),this.handleCancel(300)}):this.api.addPrompt(this.selectedGroup.id,n).subscribe(e=>{this.message.success(`${this.i18n.translate("base.add")}${this.i18n.translate("base.success")}`),this.handleCancel(300)})}handleCancel(n=0){setTimeout(()=>{this.isVisible=!1,n&&this.getOperatorList()},n)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(t.zs3),t.Y36(S.s7))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-prompt-group"]],viewQuery:function(n,e){if(1&n&&(t.Gf(Y,5),t.Gf(q,5)),2&n){let a;t.iGM(a=t.CRH())&&(e.table=a.first),t.iGM(a=t.CRH())&&(e.promptForm=a.first)}},inputs:{cardView:"cardView"},features:[t.qOj],decls:21,vars:22,consts:[[1,"left-box","fl"],["addGrpAuth","Model.CreateGroup",3,"name","groupType","selectedGroup"],[1,"right-box","fr","pr"],["rightBox",""],[1,"list-box",3,"ngStyle"],[1,"toolbar"],["sz-icon","","type","xinzeng",3,"nz-tooltip","click",4,"ngIf"],["nzName","file",3,"nzShowUploadList","nzBeforeUpload","nzAction","nzData","nz-tooltip","nzChange",4,"ngIf"],["sz-icon","","type","piliangshanchu",3,"disabled","nz-tooltip","click",4,"ngIf"],["sz-icon","","type","refresh",3,"nz-tooltip","click"],["sz-icon","","type","return",3,"click"],[1,"table-box"],[3,"columns","data","total","pageIndex","pageSize","pageChange"],["table",""],["sz-column","templateColumn"],["nzWidth","700px",3,"nzVisible","nzTitle","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],["sz-icon","","type","xinzeng",3,"nz-tooltip","click"],["nzName","file",3,"nzShowUploadList","nzBeforeUpload","nzAction","nzData","nz-tooltip","nzChange"],["sz-icon","","type","upload",3,"fontsize"],["sz-icon","","type","piliangshanchu",3,"disabled","nz-tooltip","click"],[1,"template-column",3,"nz-tooltip"],[3,"prompt"],["promptForm",""]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0)(1,"app-group-tree",1),t.NdJ("selectedGroup",function(i){return e.selectedGroupHandler(i)}),t.ALo(2,"nzI18n"),t.qZA()(),t.TgZ(3,"div",2,3)(5,"div",4)(6,"div",5)(7,"span"),t.YNc(8,D,2,3,"i",6),t.YNc(9,j,3,8,"nz-upload",7),t.YNc(10,B,2,4,"i",8),t.TgZ(11,"i",9),t.NdJ("click",function(){return e.getOperatorList(!0)}),t.ALo(12,"nzI18n"),t.qZA()(),t.TgZ(13,"i",10),t.NdJ("click",function(){return e.goTo()}),t.qZA()(),t.TgZ(14,"div",11)(15,"app-table",12,13),t.NdJ("pageChange",function(i){return e.pageChangeHandler(i)}),t.YNc(17,E,2,2,"ng-template",14),t.qZA()()()(),t.TgZ(18,"nz-modal",15),t.NdJ("nzVisibleChange",function(i){return e.isVisible=i})("nzOnCancel",function(){return e.handleCancel()})("nzOnOk",function(){return e.handleOk()}),t.ALo(19,"nzI18n"),t.YNc(20,X,3,1,"ng-container",16),t.qZA()),2&n){const a=t.MAs(4);t.xp6(1),t.Q6J("name",t.lcZ(2,14,"base.promptGroup"))("groupType",e.groupType),t.xp6(4),t.Q6J("ngStyle",t.VKq(20,K,a.offsetWidth+"px")),t.xp6(3),t.Q6J("ngIf",!e.cardView),t.xp6(1),t.Q6J("ngIf",!e.cardView),t.xp6(1),t.Q6J("ngIf",!e.cardView),t.xp6(1),t.Q6J("nz-tooltip",t.lcZ(12,16,"base.refresh")),t.xp6(4),t.Q6J("columns",e.columns)("data",e.listOfData)("total",e.pageInfo.total)("pageIndex",e.pageInfo.pageIndex)("pageSize",e.pageInfo.pageSize),t.xp6(3),t.Q6J("nzVisible",e.isVisible)("nzTitle",t.lcZ(19,18,null!=e.curItem&&e.curItem.id?"prompt.edit":"prompt.add"))}},directives:[F.u,g.PC,g.O5,M.D6,O.SY,L.FY,x.a,b.Hh,_.du,_.Hf,y],pipes:[m.o9],styles:["html.default[_ngcontent-%COMP%]   html[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{min-width:1366px}html.default[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}html.default[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;flex:auto;flex-direction:column}html.default[_ngcontent-%COMP%]   .fdc[_ngcontent-%COMP%]{flex-direction:column}html.default[_ngcontent-%COMP%]   .fdr[_ngcontent-%COMP%]{flex-direction:row}html.default[_ngcontent-%COMP%]   .fauto[_ngcontent-%COMP%]{flex:auto}html.default[_ngcontent-%COMP%]   .pf[_ngcontent-%COMP%]{position:fixed}html.default[_ngcontent-%COMP%]   .pr[_ngcontent-%COMP%]{position:relative}html.default[_ngcontent-%COMP%]   .pa[_ngcontent-%COMP%]{position:absolute}html.default[_ngcontent-%COMP%]   .fl[_ngcontent-%COMP%]{float:left}html.default[_ngcontent-%COMP%]   .fr[_ngcontent-%COMP%]{float:right}html.default[_ngcontent-%COMP%]   .clear-f[_ngcontent-%COMP%]{clear:both}html.default[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-table-pagination.ant-pagination[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .ant-pagination[_ngcontent-%COMP%]{text-align:right}html.default[_ngcontent-%COMP%]   .ant-table-column-sorter[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger[_ngcontent-%COMP%]{color:#a1a1a1}html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger.active[_ngcontent-%COMP%]{color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-sort[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-has-sorters[_ngcontent-%COMP%]:hover{background:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-tree-switcher[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-tree-indent-unit[_ngcontent-%COMP%]{width:17px;color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tree[_ngcontent-%COMP%]   .ant-tree-node-content-wrapper[_ngcontent-%COMP%]{padding:0}html.default[_ngcontent-%COMP%]   .ant-tree-checkbox-inner[_ngcontent-%COMP%]{display:inline-block}html.default[_ngcontent-%COMP%]   .ant-select-tree[_ngcontent-%COMP%]   .ant-select-tree-node-content-wrapper.ant-select-tree-node-selected[_ngcontent-%COMP%]:hover{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-modal-title[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-item-selected[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-submenu-title-selected[_ngcontent-%COMP%]{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]{background-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]:after{border-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tooltip[_ngcontent-%COMP%]{max-width:550px;max-height:550px;overflow:hidden}html.default[_ngcontent-%COMP%]   .ant-tooltip-content[_ngcontent-%COMP%]{width:100%;height:100%;max-width:550px;max-height:542px}html.default[_ngcontent-%COMP%]   .ant-tooltip-inner[_ngcontent-%COMP%]{box-shadow:none}html.default   [_nghost-%COMP%]     .app-table .template-column{max-width:800px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}html.default   [_nghost-%COMP%]     .app-table .ant-table-pagination.ant-pagination{margin-top:8px}html.dark   [_nghost-%COMP%]     .app-table .template-column{max-width:800px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}html.dark   [_nghost-%COMP%]     .app-table .ant-table-pagination.ant-pagination{margin-top:8px}","html.default[_ngcontent-%COMP%]   html[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{min-width:1366px}html.default[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}html.default[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;flex:auto;flex-direction:column}html.default[_ngcontent-%COMP%]   .fdc[_ngcontent-%COMP%]{flex-direction:column}html.default[_ngcontent-%COMP%]   .fdr[_ngcontent-%COMP%]{flex-direction:row}html.default[_ngcontent-%COMP%]   .fauto[_ngcontent-%COMP%]{flex:auto}html.default[_ngcontent-%COMP%]   .pf[_ngcontent-%COMP%]{position:fixed}html.default[_ngcontent-%COMP%]   .pr[_ngcontent-%COMP%]{position:relative}html.default[_ngcontent-%COMP%]   .pa[_ngcontent-%COMP%]{position:absolute}html.default[_ngcontent-%COMP%]   .fl[_ngcontent-%COMP%]{float:left}html.default[_ngcontent-%COMP%]   .fr[_ngcontent-%COMP%]{float:right}html.default[_ngcontent-%COMP%]   .clear-f[_ngcontent-%COMP%]{clear:both}html.default[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-table-pagination.ant-pagination[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .ant-pagination[_ngcontent-%COMP%]{text-align:right}html.default[_ngcontent-%COMP%]   .ant-table-column-sorter[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger[_ngcontent-%COMP%]{color:#a1a1a1}html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger.active[_ngcontent-%COMP%]{color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-sort[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-has-sorters[_ngcontent-%COMP%]:hover{background:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-tree-switcher[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-tree-indent-unit[_ngcontent-%COMP%]{width:17px;color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tree[_ngcontent-%COMP%]   .ant-tree-node-content-wrapper[_ngcontent-%COMP%]{padding:0}html.default[_ngcontent-%COMP%]   .ant-tree-checkbox-inner[_ngcontent-%COMP%]{display:inline-block}html.default[_ngcontent-%COMP%]   .ant-select-tree[_ngcontent-%COMP%]   .ant-select-tree-node-content-wrapper.ant-select-tree-node-selected[_ngcontent-%COMP%]:hover{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-modal-title[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-item-selected[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-submenu-title-selected[_ngcontent-%COMP%]{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]{background-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]:after{border-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tooltip[_ngcontent-%COMP%]{max-width:550px;max-height:550px;overflow:hidden}html.default[_ngcontent-%COMP%]   .ant-tooltip-content[_ngcontent-%COMP%]{width:100%;height:100%;max-width:550px;max-height:542px}html.default[_ngcontent-%COMP%]   .ant-tooltip-inner[_ngcontent-%COMP%]{box-shadow:none}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]{width:300px;height:100%;border:1px solid #dbe9ea}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]{width:calc(100% - 300px);height:100%}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   i.ic-return[_ngcontent-%COMP%]{position:absolute;right:0;top:-50px}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .list-box[_ngcontent-%COMP%]{width:100%;height:100%;padding-left:15px}html.default   [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   i.selected[_ngcontent-%COMP%]{color:#2a8b92}html.default   [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .ic-xinzeng[_ngcontent-%COMP%]{font-size:22px}html.default   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]{height:calc(100% - 45px);overflow-y:auto}html.default   [_nghost-%COMP%]   .card-box[_ngcontent-%COMP%]{width:calc(100% - 250px);height:calc(100% - 45px);border:solid 1px #dbe9ea;border-top-left-radius:2px;border-bottom-left-radius:2px;padding:8px;float:left;overflow:auto}html.default   [_nghost-%COMP%]   .card-box[_ngcontent-%COMP%]   .ant-empty[_ngcontent-%COMP%]{margin:50px 8px}html.default   [_nghost-%COMP%]   .card-box[_ngcontent-%COMP%]   .ant-empty[_ngcontent-%COMP%]     .ant-empty-image{height:40px}html.default   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]{width:250px;height:115px;float:left;margin:15px;background-color:#f7fdfd;border:solid 1px #dbe9ea;border-radius:2px;transition:all .3s;cursor:pointer}html.default   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .operator-icon[_ngcontent-%COMP%]{width:82px;height:76px;display:inline-block;padding:12px;overflow:hidden}html.default   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .ic-icon2[_ngcontent-%COMP%]{width:90px;text-align:center;font-size:52px}html.default   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:158px;padding-top:10px}html.default   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;overflow:hidden;word-break:keep-all;text-overflow:ellipsis;white-space:nowrap}html.default   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   p.icon-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between}html.default   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   p.icon-box[_ngcontent-%COMP%]   .sengee-icon.ic-shanchu[_ngcontent-%COMP%]{margin-left:8px;color:#aec5c7!important}html.default   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   p.icon-box[_ngcontent-%COMP%]   .sengee-icon[_ngcontent-%COMP%]:first-child{color:#4da79d}html.default   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   p.icon-box[_ngcontent-%COMP%]   .sengee-icon[_ngcontent-%COMP%]:nth-child(2){color:#8fc46c}html.default   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   p.icon-box[_ngcontent-%COMP%]   .sengee-icon[_ngcontent-%COMP%]:nth-child(3){color:#b2c56f}html.default   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   p.icon-box[_ngcontent-%COMP%]   .sengee-icon[_ngcontent-%COMP%]:nth-child(4){color:#b2c56f}html.default   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   p.icon-box[_ngcontent-%COMP%]   .sengee-icon[_ngcontent-%COMP%]:nth-child(5){color:#b2c56f}html.default   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .card-p[_ngcontent-%COMP%]{padding:5px 13px 0}html.default   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]:hover{border-color:#2a8b92}html.default   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]:hover   .ic-icon2[_ngcontent-%COMP%]{color:#2a8b92}html.default   [_nghost-%COMP%]   .card.selected[_ngcontent-%COMP%]{background:#d9fbfd;border-color:#2a8b92}html.default   [_nghost-%COMP%]   .card.selected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2a8b92}html.default   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .oper-btn[_ngcontent-%COMP%]{margin-left:3px;transition:all .3s;font-size:20px;position:relative;top:-5px}html.default   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .oper-btn[_ngcontent-%COMP%]:hover{color:#2a8b92}html.default   [_nghost-%COMP%]     .ant-upload-picture-card-wrapper{width:250px;height:115px;float:left;margin:15px}html.default   [_nghost-%COMP%]     .uploader>.ant-upload{width:100%;height:100%;border:dashed 1px #2a8b92;background-color:#fbffff;color:#2a8b92;position:relative}html.default   [_nghost-%COMP%]     .uploader>.ant-upload:hover{background:#d9fbfd}html.default   [_nghost-%COMP%]     .uploader>.ant-upload .icon-item{font-size:52px;color:#2a8b92;top:-20px}html.default   [_nghost-%COMP%]     .uploader>.ant-upload .name{width:90%;height:20px;line-height:20px;bottom:20px;text-align:center;overflow:hidden;word-break:keep-all;text-overflow:ellipsis;white-space:nowrap;color:#2a8b92}html.default   [_nghost-%COMP%]   .info-box[_ngcontent-%COMP%]{width:250px;height:calc(100% - 45px);border:solid 1px #dbe9ea;border-left:none;border-top-right-radius:2px;border-bottom-right-radius:2px;float:right}html.default   [_nghost-%COMP%]   .info-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;height:25px;background-color:#c8dde0;padding:2px 10px 0}html.default   [_nghost-%COMP%]   .info-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;height:23px;line-height:23px;padding:0 10px;color:#2a8b92;background-color:#fbffff}html.default   [_nghost-%COMP%]   .info-box[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{height:calc(100% - 25px);overflow-y:auto}html.default   [_nghost-%COMP%]   .info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;padding:0 16px;margin:5px 0;width:100%;word-break:break-word}html.default   [_nghost-%COMP%]   .card-add[_ngcontent-%COMP%]{border:dashed 1px #2a8b92;background-color:#fbffff;color:#2a8b92}html.default   [_nghost-%COMP%]   .card-add[_ngcontent-%COMP%]   .i[_ngcontent-%COMP%]{color:#2a8b92}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]{width:300px;height:100%;border:1px solid #dbe9ea}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]{width:calc(100% - 300px);height:100%}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   i.ic-return[_ngcontent-%COMP%]{position:absolute;right:0;top:-50px}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .list-box[_ngcontent-%COMP%]{width:100%;height:100%;padding-left:15px}html.dark   [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   i.selected[_ngcontent-%COMP%]{color:#275184}html.dark   [_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .ic-xinzeng[_ngcontent-%COMP%]{font-size:22px}html.dark   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]{height:calc(100% - 45px);overflow-y:auto}html.dark   [_nghost-%COMP%]   .card-box[_ngcontent-%COMP%]{width:calc(100% - 250px);height:calc(100% - 45px);border:solid 1px #dbe9ea;border-top-left-radius:2px;border-bottom-left-radius:2px;padding:8px;float:left;overflow:auto}html.dark   [_nghost-%COMP%]   .card-box[_ngcontent-%COMP%]   .ant-empty[_ngcontent-%COMP%]{margin:50px 8px}html.dark   [_nghost-%COMP%]   .card-box[_ngcontent-%COMP%]   .ant-empty[_ngcontent-%COMP%]     .ant-empty-image{height:40px}html.dark   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]{width:250px;height:115px;float:left;margin:15px;background-color:#f4f7fc;border:solid 1px #dbe9ea;border-radius:2px;transition:all .3s;cursor:pointer}html.dark   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .operator-icon[_ngcontent-%COMP%]{width:82px;height:76px;display:inline-block;padding:12px;overflow:hidden}html.dark   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .ic-icon2[_ngcontent-%COMP%]{width:90px;text-align:center;font-size:52px}html.dark   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:158px;padding-top:10px}html.dark   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;overflow:hidden;word-break:keep-all;text-overflow:ellipsis;white-space:nowrap}html.dark   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   p.icon-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between}html.dark   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   p.icon-box[_ngcontent-%COMP%]   .sengee-icon.ic-shanchu[_ngcontent-%COMP%]{margin-left:8px;color:#aec5c7!important}html.dark   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   p.icon-box[_ngcontent-%COMP%]   .sengee-icon[_ngcontent-%COMP%]:first-child{color:#5d8cb7}html.dark   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   p.icon-box[_ngcontent-%COMP%]   .sengee-icon[_ngcontent-%COMP%]:nth-child(2){color:#8ab9c0}html.dark   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   p.icon-box[_ngcontent-%COMP%]   .sengee-icon[_ngcontent-%COMP%]:nth-child(3){color:#80b890}html.dark   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   p.icon-box[_ngcontent-%COMP%]   .sengee-icon[_ngcontent-%COMP%]:nth-child(4){color:#80b890}html.dark   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   p.icon-box[_ngcontent-%COMP%]   .sengee-icon[_ngcontent-%COMP%]:nth-child(5){color:#80b890}html.dark   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .card-p[_ngcontent-%COMP%]{padding:5px 13px 0}html.dark   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]:hover{border-color:#275184}html.dark   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]:hover   .ic-icon2[_ngcontent-%COMP%]{color:#275184}html.dark   [_nghost-%COMP%]   .card.selected[_ngcontent-%COMP%]{background:#d9e1fd;border-color:#275184}html.dark   [_nghost-%COMP%]   .card.selected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#275184}html.dark   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .oper-btn[_ngcontent-%COMP%]{margin-left:3px;transition:all .3s;font-size:20px;position:relative;top:-5px}html.dark   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .oper-btn[_ngcontent-%COMP%]:hover{color:#275184}html.dark   [_nghost-%COMP%]     .ant-upload-picture-card-wrapper{width:250px;height:115px;float:left;margin:15px}html.dark   [_nghost-%COMP%]     .uploader>.ant-upload{width:100%;height:100%;border:dashed 1px #275184;background-color:#fbfcff;color:#275184;position:relative}html.dark   [_nghost-%COMP%]     .uploader>.ant-upload:hover{background:#d9e1fd}html.dark   [_nghost-%COMP%]     .uploader>.ant-upload .icon-item{font-size:52px;color:#275184;top:-20px}html.dark   [_nghost-%COMP%]     .uploader>.ant-upload .name{width:90%;height:20px;line-height:20px;bottom:20px;text-align:center;overflow:hidden;word-break:keep-all;text-overflow:ellipsis;white-space:nowrap;color:#275184}html.dark   [_nghost-%COMP%]   .info-box[_ngcontent-%COMP%]{width:250px;height:calc(100% - 45px);border:solid 1px #dbe9ea;border-left:none;border-top-right-radius:2px;border-bottom-right-radius:2px;float:right}html.dark   [_nghost-%COMP%]   .info-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;height:25px;background-color:#e6edf7;padding:2px 10px 0}html.dark   [_nghost-%COMP%]   .info-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;height:23px;line-height:23px;padding:0 10px;color:#275184;background-color:#fbfcff}html.dark   [_nghost-%COMP%]   .info-box[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{height:calc(100% - 25px);overflow-y:auto}html.dark   [_nghost-%COMP%]   .info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;padding:0 16px;margin:5px 0;width:100%;word-break:break-word}html.dark   [_nghost-%COMP%]   .card-add[_ngcontent-%COMP%]{border:dashed 1px #275184;background-color:#fbfcff;color:#275184}html.dark   [_nghost-%COMP%]   .card-add[_ngcontent-%COMP%]   .i[_ngcontent-%COMP%]{color:#275184}"]}),o})();var tt=p(49727),k=p(82683),nt=p(92124),et=p(51753);const ot=["promptForm"];function at(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"span",16),t.NdJ("click",function(){return t.CHM(n),t.oxw().searchHandler()}),t.qZA()}}function lt(o,l){if(1&o&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&o){const n=l.$implicit;t.Q6J("nz-tooltip",n.promptTemplate),t.xp6(1),t.Oqu(n.promptTemplate)}}function it(o,l){if(1&o&&(t.ynx(0),t._UZ(1,"app-prompt-form",18,19),t.BQk()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("prompt",n.curItem)}}const pt=function(o){return{height:o}};let rt=(()=>{class o{constructor(n,e,a,i){this.message=n,this.i18n=e,this.router=a,this.api=i,this.typeList=[{name:"\u8bed\u8a00",children:z.map(r=>({alias:this.i18n.translate(r.i18n),name:r.value,selected:!0}))},{name:"\u7c7b\u578b",children:v.map(r=>({alias:this.i18n.translate(r.i18n),name:r.value.toLocaleUpperCase(),selected:!0}))}],this.listOfData=[],this.pageInfo={pageIndex:1,pageSize:10,total:0},this.searchValue="",this.languages=this.typeList[0].children.map(r=>r.name).join(","),this.types=this.typeList[1].children.map(r=>r.name).join(","),this.columns=[{type:"checkbox"},{type:"index"},{i18n:"base.name",field:"name"},{i18n:"base.language",field:"lang",dataI18n:!0},{i18n:"base.model",field:"model"},{i18n:"prompt.modelFamily",field:"modelFamily"},{i18n:"base.type",field:"promptTemplateTypeI18n",dataI18n:!0},{i18n:"prompt.template",field:"promptTemplate",render:"templateColumn"},{buttons:[{icon:"xiugai",tip:"base.edit",click:r=>this.onEdit(r)},{icon:"shanchu",tip:"base.delete",type:"delete",confirmTip:"Prompt",click:r=>this.deleteConfirm(r)}]}],this.isVisible=!1}ngOnInit(){this.searchHandler()}goTo(){this.router.navigate(["resource"])}searchHandler(){this.api.searchPrompt(this.searchValue,this.languages,this.types,this.pageInfo.pageIndex,this.pageInfo.pageSize).subscribe(n=>{this.listOfData=n.content.map(e=>(e.promptTemplateTypeI18n=e.promptTemplateType?`prompt.${e.promptTemplateType.toLocaleLowerCase()}`:"",e)),this.pageInfo.total=n.totalElements})}pageChangeHandler(n){this.pageInfo.pageIndex=n.pageIndex,this.pageInfo.pageSize=n.pageSize,this.searchHandler()}onSelectLanguage(n){this.languages=n,this.pageInfo.pageIndex=1,this.searchHandler()}onSelectType(n){this.types=n,this.pageInfo.pageIndex=1,this.searchHandler()}deleteConfirm(n){this.api.deleteBatchPrompt([n.id]).subscribe(e=>{this.message.success(`${this.i18n.translate("base.delete")}${this.i18n.translate("base.success")}`),this.searchHandler()})}onEdit(n){this.curItem=n,this.isVisible=!0}handleOk(){const n=this.promptForm.getPrompt();this.api.editPrompt(n.id,n).subscribe(e=>{this.message.success(`${this.i18n.translate("base.update")}${this.i18n.translate("base.success")}`),this.handleCancel(300)})}handleCancel(n=0){setTimeout(()=>{this.isVisible=!1,n&&this.searchHandler()},n)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(tt.dD),t.Y36(m.wi),t.Y36(h.F0),t.Y36(f.Xp))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-prompt-retrieval"]],viewQuery:function(n,e){if(1&n&&t.Gf(ot,5),2&n){let a;t.iGM(a=t.CRH())&&(e.promptForm=a.first)}},decls:28,vars:27,consts:[[1,"page-retrieval","pr"],["sz-icon","","type","return",3,"click"],["nzSearch","","nzSize","large",3,"nzSuffix"],["type","text","nz-input","",3,"ngModel","placeholder","ngModelChange","keyup.enter"],["suffixIconSearch",""],[1,"types-box"],["typesBox",""],[1,"type-box"],[1,"type-label"],[1,"type-item-box"],[3,"data","selected"],[1,"table-box",3,"ngStyle"],[3,"columns","data","total","pageIndex","pageSize","pageChange"],["sz-column","templateColumn"],["nzWidth","700px",3,"nzVisible","nzTitle","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],["nz-icon","","nzType","search",3,"click"],[1,"template-column",3,"nz-tooltip"],[3,"prompt"],["promptForm",""]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0)(1,"i",1),t.NdJ("click",function(){return e.goTo()}),t.qZA(),t.TgZ(2,"nz-input-group",2)(3,"input",3),t.NdJ("ngModelChange",function(i){return e.searchValue=i})("keyup.enter",function(){return e.searchHandler()}),t.ALo(4,"nzI18n"),t.ALo(5,"nzI18n"),t.qZA()(),t.YNc(6,at,1,0,"ng-template",null,4,t.W1O),t.TgZ(8,"div",5,6)(10,"div",7)(11,"span",8),t._uU(12),t.ALo(13,"nzI18n"),t.qZA(),t.TgZ(14,"span",9)(15,"sz-checkbox-btn",10),t.NdJ("selected",function(i){return e.onSelectLanguage(i)}),t.qZA()()(),t.TgZ(16,"div",7)(17,"span",8),t._uU(18),t.ALo(19,"nzI18n"),t.qZA(),t.TgZ(20,"span",9)(21,"sz-checkbox-btn",10),t.NdJ("selected",function(i){return e.onSelectType(i)}),t.qZA()()()(),t.TgZ(22,"div",11)(23,"app-table",12),t.NdJ("pageChange",function(i){return e.pageChangeHandler(i)}),t.YNc(24,lt,2,2,"ng-template",13),t.qZA()()(),t.TgZ(25,"nz-modal",14),t.NdJ("nzVisibleChange",function(i){return e.isVisible=i})("nzOnCancel",function(){return e.handleCancel()})("nzOnOk",function(){return e.handleOk()}),t.ALo(26,"nzI18n"),t.YNc(27,it,3,1,"ng-container",15),t.qZA()),2&n){const a=t.MAs(7),i=t.MAs(9);t.xp6(2),t.Q6J("nzSuffix",a),t.xp6(1),t.Q6J("ngModel",e.searchValue)("placeholder",t.lcZ(4,15,"base.pleaseInput")+t.lcZ(5,17,"base.name")),t.xp6(9),t.hij("",t.lcZ(13,19,e.typeList[0].name),": "),t.xp6(3),t.Q6J("data",e.typeList[0].children),t.xp6(3),t.hij("",t.lcZ(19,21,e.typeList[1].name),": "),t.xp6(3),t.Q6J("data",e.typeList[1].children),t.xp6(1),t.Q6J("ngStyle",t.VKq(25,pt,"calc(100% - 111px - "+i.offsetHeight+"px)")),t.xp6(1),t.Q6J("columns",e.columns)("data",e.listOfData)("total",e.pageInfo.total)("pageIndex",e.pageInfo.pageIndex)("pageSize",e.pageInfo.pageSize),t.xp6(2),t.Q6J("nzVisible",e.isVisible)("nzTitle",t.lcZ(26,23,"prompt.edit"))}},directives:[M.D6,k.w,u.gB,u.ke,u.Zp,d.Fj,d.JJ,d.On,nt.Ls,et.R,g.PC,x.a,b.Hh,O.SY,_.du,_.Hf,y],pipes:[m.o9],styles:["html.default[_ngcontent-%COMP%]   html[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{min-width:1366px}html.default[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}html.default[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;flex:auto;flex-direction:column}html.default[_ngcontent-%COMP%]   .fdc[_ngcontent-%COMP%]{flex-direction:column}html.default[_ngcontent-%COMP%]   .fdr[_ngcontent-%COMP%]{flex-direction:row}html.default[_ngcontent-%COMP%]   .fauto[_ngcontent-%COMP%]{flex:auto}html.default[_ngcontent-%COMP%]   .pf[_ngcontent-%COMP%]{position:fixed}html.default[_ngcontent-%COMP%]   .pr[_ngcontent-%COMP%]{position:relative}html.default[_ngcontent-%COMP%]   .pa[_ngcontent-%COMP%]{position:absolute}html.default[_ngcontent-%COMP%]   .fl[_ngcontent-%COMP%]{float:left}html.default[_ngcontent-%COMP%]   .fr[_ngcontent-%COMP%]{float:right}html.default[_ngcontent-%COMP%]   .clear-f[_ngcontent-%COMP%]{clear:both}html.default[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-table-pagination.ant-pagination[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .ant-pagination[_ngcontent-%COMP%]{text-align:right}html.default[_ngcontent-%COMP%]   .ant-table-column-sorter[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger[_ngcontent-%COMP%]{color:#a1a1a1}html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger.active[_ngcontent-%COMP%]{color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-sort[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-has-sorters[_ngcontent-%COMP%]:hover{background:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-tree-switcher[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-tree-indent-unit[_ngcontent-%COMP%]{width:17px;color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tree[_ngcontent-%COMP%]   .ant-tree-node-content-wrapper[_ngcontent-%COMP%]{padding:0}html.default[_ngcontent-%COMP%]   .ant-tree-checkbox-inner[_ngcontent-%COMP%]{display:inline-block}html.default[_ngcontent-%COMP%]   .ant-select-tree[_ngcontent-%COMP%]   .ant-select-tree-node-content-wrapper.ant-select-tree-node-selected[_ngcontent-%COMP%]:hover{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-modal-title[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-item-selected[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-submenu-title-selected[_ngcontent-%COMP%]{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]{background-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]:after{border-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tooltip[_ngcontent-%COMP%]{max-width:550px;max-height:550px;overflow:hidden}html.default[_ngcontent-%COMP%]   .ant-tooltip-content[_ngcontent-%COMP%]{width:100%;height:100%;max-width:550px;max-height:542px}html.default[_ngcontent-%COMP%]   .ant-tooltip-inner[_ngcontent-%COMP%]{box-shadow:none}html.default   [_nghost-%COMP%]     .app-table .template-column{max-width:800px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}html.default   [_nghost-%COMP%]     .app-table .ant-table-pagination.ant-pagination{margin-top:8px}html.dark   [_nghost-%COMP%]     .app-table .template-column{max-width:800px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}html.dark   [_nghost-%COMP%]     .app-table .ant-table-pagination.ant-pagination{margin-top:8px}"]}),o})();function ct(o,l){1&o&&(t.TgZ(0,"li",6),t._uU(1," Prompt "),t.qZA())}function gt(o,l){1&o&&(t.TgZ(0,"li",7),t._uU(1),t.ALo(2,"nzI18n"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"base.retrieval")," "))}const dt=[{path:"",component:(()=>{class o{constructor(n,e){this.route=n,this.helper=e}ngOnInit(){this.helper.defaultEnter(this.route)}ngOnDestroy(){}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(h.gz),t.Y36(c.$J))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-prompt-main"]],decls:7,vars:2,consts:[[1,"tab-menu-box"],[1,"menu"],["nz-menu",""],["nz-menu-item","","nzMatchRouter","","routerLink","./list",4,"authx"],["nz-menu-item","","nzMatchRouter","","routerLink","./retrieval",4,"authx"],[1,"content",2,"padding","15px"],["nz-menu-item","","nzMatchRouter","","routerLink","./list"],["nz-menu-item","","nzMatchRouter","","routerLink","./retrieval"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"ul",2),t.YNc(3,ct,2,0,"li",3),t.YNc(4,gt,3,3,"li",4),t.qZA()(),t.TgZ(5,"div",5),t._UZ(6,"dy-router-outlet"),t.qZA()()),2&n&&(t.xp6(3),t.Q6J("authx","Resource.Prompt.Group"),t.xp6(1),t.Q6J("authx","Resource.Prompt.Retrieval"))},directives:[C.wO,c.xo,C.r9,k.w,h.rH,c.Fr],pipes:[m.o9],encapsulation:2}),o})(),children:[{path:"list",component:W,data:{authPathMatch:"full"},canActivate:[c.$P],canActivateChild:[c.$P]},{path:"retrieval",component:rt,data:{authPathMatch:"full"},canActivate:[c.$P],canActivateChild:[c.$P]}]}];let st=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[g.ez,c.OX,C.ip,Z.m,h.Bz.forChild(dt)]]}),o})()}}]);