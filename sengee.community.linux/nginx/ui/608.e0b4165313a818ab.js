"use strict";(self.webpackChunksengee_ui=self.webpackChunksengee_ui||[]).push([[608],{15608:(Pt,O,i)=>{i.r(O),i.d(O,{MainModule:()=>Ot});var u=i(77152),h=i(62545),f=i(64219),H=i(82886),U=i(80072),d=i(46055),t=i(5e3),j=i(65882),N=i(42241),p=i(89445);const Q=["jobList"];let F=(()=>{class o{constructor(){this.groupType=d.b0.JobGrp}ngOnInit(){}selectedGroupHandler(n){this.selectedGroup=n}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-job-group"]],viewQuery:function(n,e){if(1&n&&t.Gf(Q,5),2&n){let a;t.iGM(a=t.CRH())&&(e.jobList=a.first)}},decls:7,vars:6,consts:[[1,"group-box"],[1,"left-box","fl"],["addGrpAuth","Job.CreateGroup",3,"name","groupType","selectedGroup"],[1,"right-box","fr"],[3,"groupId","selectedGroup"],["jobList",""]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"app-group-tree",2),t.NdJ("selectedGroup",function(l){return e.selectedGroupHandler(l)}),t.ALo(3,"nzI18n"),t.qZA()(),t.TgZ(4,"div",3),t._UZ(5,"app-job-list",4,5),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("name",t.lcZ(3,4,"base.jobGroup"))("groupType",e.groupType),t.xp6(3),t.Q6J("groupId",null==e.selectedGroup?null:e.selectedGroup.id)("selectedGroup",e.selectedGroup))},directives:[j.u,N.Q],pipes:[p.o9],styles:['html.default[_ngcontent-%COMP%]   html[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{min-width:1366px}html.default[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}html.default[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;flex:auto;flex-direction:column}html.default[_ngcontent-%COMP%]   .fdc[_ngcontent-%COMP%]{flex-direction:column}html.default[_ngcontent-%COMP%]   .fdr[_ngcontent-%COMP%]{flex-direction:row}html.default[_ngcontent-%COMP%]   .fauto[_ngcontent-%COMP%]{flex:auto}html.default[_ngcontent-%COMP%]   .pf[_ngcontent-%COMP%]{position:fixed}html.default[_ngcontent-%COMP%]   .pr[_ngcontent-%COMP%]{position:relative}html.default[_ngcontent-%COMP%]   .pa[_ngcontent-%COMP%]{position:absolute}html.default[_ngcontent-%COMP%]   .fl[_ngcontent-%COMP%]{float:left}html.default[_ngcontent-%COMP%]   .fr[_ngcontent-%COMP%]{float:right}html.default[_ngcontent-%COMP%]   .clear-f[_ngcontent-%COMP%]{clear:both}html.default[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-table-pagination.ant-pagination[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .ant-pagination[_ngcontent-%COMP%]{text-align:right}html.default[_ngcontent-%COMP%]   .ant-table-column-sorter[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger[_ngcontent-%COMP%]{color:#a1a1a1}html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger.active[_ngcontent-%COMP%]{color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-sort[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-has-sorters[_ngcontent-%COMP%]:hover{background:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-tree-switcher[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-tree-indent-unit[_ngcontent-%COMP%]{width:17px;color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tree[_ngcontent-%COMP%]   .ant-tree-node-content-wrapper[_ngcontent-%COMP%]{padding:0}html.default[_ngcontent-%COMP%]   .ant-tree-checkbox-inner[_ngcontent-%COMP%]{display:inline-block}html.default[_ngcontent-%COMP%]   .ant-select-tree[_ngcontent-%COMP%]   .ant-select-tree-node-content-wrapper.ant-select-tree-node-selected[_ngcontent-%COMP%]:hover{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-modal-title[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-item-selected[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-submenu-title-selected[_ngcontent-%COMP%]{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]{background-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]:after{border-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tooltip[_ngcontent-%COMP%]{max-width:550px;max-height:550px;overflow:hidden}html.default[_ngcontent-%COMP%]   .ant-tooltip-content[_ngcontent-%COMP%]{width:100%;height:100%;max-width:550px;max-height:542px}html.default[_ngcontent-%COMP%]   .ant-tooltip-inner[_ngcontent-%COMP%]{box-shadow:none}html.default   [_nghost-%COMP%]   .group-box[_ngcontent-%COMP%]{width:100%;height:100%}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]{width:300px;height:100%;border:1px solid #dbe9ea}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]{width:calc(100% - 315px);height:100%;margin-left:15px}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]     .sz-tab{height:100%}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]     .sz-tab-header{padding:0 0 8px;width:100%;background-color:#fbffff;border-bottom:solid 1px #dbe9ea}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]     .sz-tab-header-item.active{position:relative}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]     .sz-tab-header-item.active:after{content:"";position:absolute;width:100%;height:2px;background-color:#2a8b92;left:0;bottom:-9px}html.dark   [_nghost-%COMP%]   .group-box[_ngcontent-%COMP%]{width:100%;height:100%}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]{width:300px;height:100%;border:1px solid #dbe9ea}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]{width:calc(100% - 315px);height:100%;margin-left:15px}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]     .sz-tab{height:100%}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]     .sz-tab-header{padding:0 0 8px;width:100%;background-color:#fbfcff;border-bottom:solid 1px #dbe9ea}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]     .sz-tab-header-item.active{position:relative}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]     .sz-tab-header-item.active:after{content:"";position:absolute;width:100%;height:2px;background-color:#275184;left:0;bottom:-9px}']}),o})();var P=i(82683);function $(o,c){1&o&&(t.TgZ(0,"li",7),t._uU(1),t.ALo(2,"nzI18n"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"menu.job")," "))}function E(o,c){1&o&&(t.TgZ(0,"li",8),t._uU(1),t.ALo(2,"nzI18n"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"job.task")," "))}function Y(o,c){1&o&&(t.TgZ(0,"li",9),t._uU(1),t.ALo(2,"nzI18n"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"base.retrieval")," "))}let D=(()=>{class o{constructor(n,e){this.route=n,this.helper=e}ngOnInit(){this.helper.defaultEnter(this.route),this.subscription=this.helper.simulateReuse(this.route)}ngOnDestroy(){this.subscription.unsubscribe()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(u.gz),t.Y36(h.$J))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-job-main"]],decls:8,vars:3,consts:[[1,"tab-menu-box"],[1,"menu"],["nz-menu",""],["nz-menu-item","","nzMatchRouter","","routerLink","./list",4,"authx"],["nz-menu-item","","nzMatchRouter","","routerLink","./task",4,"authx"],["nz-menu-item","","nzMatchRouter","","routerLink","./retrieval",4,"authx"],[1,"content",2,"padding","15px"],["nz-menu-item","","nzMatchRouter","","routerLink","./list"],["nz-menu-item","","nzMatchRouter","","routerLink","./task"],["nz-menu-item","","nzMatchRouter","","routerLink","./retrieval"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"ul",2),t.YNc(3,$,3,3,"li",3),t.YNc(4,E,3,3,"li",4),t.YNc(5,Y,3,3,"li",5),t.qZA()(),t.TgZ(6,"div",6),t._UZ(7,"dy-router-outlet"),t.qZA()()),2&n&&(t.xp6(3),t.Q6J("authx","Job.List"),t.xp6(1),t.Q6J("authx","Job.Task"),t.xp6(1),t.Q6J("authx","Job.Retrieval"))},directives:[f.wO,h.xo,P.w,f.r9,u.rH,h.Fr],pipes:[p.o9],encapsulation:2}),o})();var x=i(28076),G=i(4128),V=i(34654),k=i(50489),v=i(49727),B=i(41123),M=i(11047),m=i(93075),W=i(92124),X=i(51753),C=i(69808),T=i(72394),z=i(55535),y=i(5156),J=i(404),K=i(6462),Z=i(49841),q=i(18393),w=i(93486);function tt(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"span",15),t.NdJ("click",function(){return t.CHM(n),t.oxw().searchHandler()}),t.qZA()}}function nt(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"i",21),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit;return t.oxw().editJob(a)}),t.ALo(1,"nzI18n"),t.qZA()}2&o&&t.Q6J("nz-tooltip",t.lcZ(1,1,"base.edit"))}function et(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"i",22),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit;return t.oxw().runJob(a)}),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.Q6J("disabled",!n.enabled)("nz-tooltip","\u7acb\u5373\u6267\u884c")}}function ot(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"i")(1,"nz-switch",23),t.NdJ("click",function(){t.CHM(n);const a=t.oxw().$implicit;return t.oxw().enableJob(a)}),t.qZA()()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",n.enabled)("nzControl",!0)}}function at(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"i",16),t.NdJ("click",function(){const l=t.CHM(n).$implicit;return t.oxw().currentJob=l}),t.qZA(),t.YNc(1,nt,2,3,"i",17),t.YNc(2,et,1,2,"i",18),t.YNc(3,ot,2,2,"i",19),t.TgZ(4,"i",20),t.NdJ("nzOnConfirm",function(){const l=t.CHM(n).$implicit;return t.oxw().deleteConfirm(l)}),t.ALo(5,"nzI18n"),t.ALo(6,"nzI18n"),t.ALo(7,"nzI18n"),t.qZA()}if(2&o){const n=c.$implicit;t.Q6J("nz-tooltip","\u67e5\u770b\u4efb\u52a1\u5217\u8868"),t.xp6(1),t.Q6J("ngIf","SCHEDULER"===n.triggerType),t.xp6(1),t.Q6J("ngIf","SCHEDULER"===n.triggerType),t.xp6(1),t.Q6J("ngIf","SCHEDULER"===n.triggerType),t.xp6(1),t.Q6J("nzPopconfirmTitle",t.lcZ(5,6,"base.confirmDel")+t.lcZ(6,8,"menu.job")+"?")("nz-tooltip",t.lcZ(7,10,"base.delete"))}}function lt(o,c){if(1&o&&(t.TgZ(0,"a",24),t._uU(1),t.qZA()),2&o){const n=c.$implicit;t.Q6J("href",n.trackUrl,t.LSH),t.xp6(1),t.Oqu(n.trackUrl)}}const A=function(){return{padding:"15px 0 0"}};function it(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"div",25)(1,"div",26),t._uU(2),t.TgZ(3,"span")(4,"i",27),t.NdJ("click",function(){return t.CHM(n),t.MAs(9).batchDelete()}),t.ALo(5,"nzI18n"),t.qZA(),t.TgZ(6,"i",28),t.NdJ("click",function(){return t.CHM(n),t.oxw().currentJob=null}),t.qZA()()(),t.TgZ(7,"div",29)(8,"app-task-list",30,31),t.NdJ("lookLog",function(a){return t.CHM(n),t.oxw().currentTask=a}),t.qZA()()()}if(2&o){const n=t.MAs(9),e=t.oxw();t.Q6J("@fadeMotion",void 0),t.xp6(2),t.hij(" \u4f5c\u4e1a\u540d\u79f0: ",null==e.currentJob?null:e.currentJob.name," "),t.xp6(2),t.Q6J("fontsize",24)("disabled",!(null!=n.table&&n.table.checked||null!=n.table&&n.table.indeterminate))("nz-tooltip",t.lcZ(5,7,"BatchDelete.title")),t.xp6(3),t.Q6J("ngStyle",t.DdM(9,A)),t.xp6(1),t.Q6J("jobId",null==e.currentJob?null:e.currentJob.id)}}function ct(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"div",25)(1,"div",26),t._uU(2," \u4efb\u52a1\u65e5\u5fd7 "),t.TgZ(3,"i",28),t.NdJ("click",function(){return t.CHM(n),t.oxw().currentTask=null}),t.qZA()(),t.TgZ(4,"div",29),t._UZ(5,"app-task-log",32),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(4),t.Q6J("ngStyle",t.DdM(2,A)),t.xp6(1),t.Q6J("taskId",null==n.currentTask?null:n.currentTask.id)}}const rt=function(o){return{height:o}};let gt=(()=>{class o{constructor(n,e,a,l,r){this.api=n,this.router=e,this.message=a,this.i18n=l,this.service=r,this.typeList=[{name:"\u6d41\u7a0b\u7c7b\u578b",children:[{name:"PROGRAM",alias:"\u7a0b\u5e8f\u6d41\u7a0b",selected:!0},{name:"JOBCTRL",alias:"\u4f5c\u4e1a\u63a7\u5236\u6d41\u7a0b",selected:!0}]},{name:"\u8ba1\u7b97\u6846\u67b6",children:null},{name:"\u4f5c\u4e1a\u7c7b\u578b",children:null}],this.listOfData=[],this.pageInfo={pageIndex:1,pageSize:10,total:0},this.searchValue="",this.graphTypes="",this.computionFrameworks="",this.jobTypes="",this.columns=[{type:"index"},{i18n:"\u540d\u79f0",field:"name"},{i18n:"\u4f18\u5148\u7ea7",field:"priorityZh"},{i18n:"\u521b\u5efa\u8005",field:"creator"},{i18n:"\u521b\u5efa\u65f6\u95f4",field:"createdTime"},{i18n:"\u6700\u540e\u4fee\u6539\u65f6\u95f4",field:"lastModifiedTime"},{i18n:"\u4f5c\u4e1a\u7c7b\u578b",field:"triggerTypeZh"},{i18n:"\u6d41\u7a0b\u540d\u79f0",field:"processName"},{i18n:"\u7248\u672c\u7c7b\u578b",field:"processVersionTypeZh"},{i18n:"\u8fd0\u884c\u7248\u672c",field:"processVersion"},{type:"operate",render:"optColumn"}]}ngOnInit(){(0,G.D)([this.service.getProcessTypeList(),this.service.getComputionFrameworkList()]).subscribe(n=>{n[0].map(e=>{e.selected=!0,this.typeList[0].children.unshift(e)}),this.graphTypes=this.typeList[0].children.map(e=>e.name).join(","),this.typeList[1].children=n[1].map(e=>(e.selected=!0,e)),this.computionFrameworks=this.typeList[1].children.map(e=>e.name).join(","),this.typeList[2].children=d.UA.concat([]).map(e=>(e.name=e.value,e.alias=e.label,e.selected=!0,e)),this.jobTypes=this.typeList[2].children.map(e=>e.name).join(","),this.getJobList()})}selectGraphTypeHandler(n){this.graphTypes=n,this.getJobList()}selectComputionFrameworkHandler(n){this.computionFrameworks=n,this.getJobList()}selectJobTypeHandler(n){this.jobTypes=n,this.getJobList()}searchHandler(){this.getJobList()}getJobList(){this.api.searchJob(this.computionFrameworks,this.graphTypes,this.jobTypes,this.searchValue,this.pageInfo.pageIndex,this.pageInfo.pageSize).subscribe(n=>{this.listOfData=n.content,this.pageInfo.total=n.totalElements,this.listOfData.map(e=>{var a,l,r;e.priorityZh=null===(a=V.Y.find(g=>g.value===e.priority))||void 0===a?void 0:a.label,e.triggerTypeZh=null===(l=d.UA.find(g=>g.value===e.triggerType))||void 0===l?void 0:l.label,e.processVersionTypeZh=null===(r=d.IA.find(g=>g.value===e.processVersionType))||void 0===r?void 0:r.label})})}pageChangeHandler(n){this.pageInfo.pageIndex=n.pageIndex,this.pageInfo.pageSize=n.pageSize,this.getJobList()}editJob(n){const e={type:n.triggerType.toLocaleLowerCase(),groupId:""};this.router.navigate([`/job/edit/${n.id}`],{queryParams:e})}runJob(n){!n.enabled||this.api.runJob(n.id).subscribe(e=>{this.message.success("\u6267\u884c\u547d\u4ee4\u4e0b\u53d1\u6210\u529f!")})}enableJob(n){this.api.enableJob(n.id,!n.enabled).subscribe(e=>{n.enabled=!n.enabled})}deleteConfirm(n){this.api.deleteJob(n.id).subscribe(e=>{this.message.success(`${this.i18n.translate("base.delete")}${this.i18n.translate("base.success")}`),this.getJobList()})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(k.k5),t.Y36(u.F0),t.Y36(v.dD),t.Y36(p.wi),t.Y36(B.q))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-job-retrieval"]],decls:32,vars:27,consts:[[1,"page-retrieval","pr"],["nzSearch","","nzSize","large",3,"nzSuffix"],["type","text","nz-input","",3,"ngModel","placeholder","ngModelChange","keyup.enter"],["suffixIconSearch",""],[1,"types-box"],["typesBox",""],[1,"type-box"],[1,"type-label"],[1,"type-item-box"],[3,"data","selected"],[1,"table-box","pr",3,"ngStyle"],[3,"columns","data","total","pageIndex","pageSize","pageChange"],["sz-column","optColumn"],["sz-column","trackUrl"],["class","modal pa",4,"ngIf"],["nz-icon","","nzType","search",3,"click"],["sz-icon","","type","eye",3,"nz-tooltip","click"],["sz-icon","","type","xiugai",3,"nz-tooltip","click",4,"ngIf"],["sz-icon","","type","yunhang",3,"disabled","nz-tooltip","click",4,"ngIf"],[4,"ngIf"],["sz-icon","","type","shanchu","nz-popconfirm","",3,"nzPopconfirmTitle","nz-tooltip","nzOnConfirm"],["sz-icon","","type","xiugai",3,"nz-tooltip","click"],["sz-icon","","type","yunhang",3,"disabled","nz-tooltip","click"],["nzSize","small","nzCheckedChildren","\u7981\u7528","nzUnCheckedChildren","\u542f\u7528",3,"ngModel","nzControl","click"],["target","_blank",3,"href"],[1,"modal","pa"],[1,"bread-crumb"],["sz-icon","","type","piliangshanchu",3,"fontsize","disabled","nz-tooltip","click"],["sz-icon","","type","return",3,"click"],[1,"modal-inner",3,"ngStyle"],[3,"jobId","lookLog"],["taskList1",""],[3,"taskId"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0)(1,"nz-input-group",1)(2,"input",2),t.NdJ("ngModelChange",function(l){return e.searchValue=l})("keyup.enter",function(){return e.searchHandler()}),t.ALo(3,"nzI18n"),t.qZA()(),t.YNc(4,tt,1,0,"ng-template",null,3,t.W1O),t.TgZ(6,"div",4,5)(8,"div",6)(9,"span",7),t._uU(10),t.ALo(11,"nzI18n"),t.qZA(),t.TgZ(12,"span",8)(13,"sz-checkbox-btn",9),t.NdJ("selected",function(l){return e.selectGraphTypeHandler(l)}),t.qZA()()(),t.TgZ(14,"div",6)(15,"span",7),t._uU(16),t.ALo(17,"nzI18n"),t.qZA(),t.TgZ(18,"span",8)(19,"sz-checkbox-btn",9),t.NdJ("selected",function(l){return e.selectComputionFrameworkHandler(l)}),t.qZA()()(),t.TgZ(20,"div",6)(21,"span",7),t._uU(22),t.ALo(23,"nzI18n"),t.qZA(),t.TgZ(24,"span",8)(25,"sz-checkbox-btn",9),t.NdJ("selected",function(l){return e.selectJobTypeHandler(l)}),t.qZA()()()(),t.TgZ(26,"div",10)(27,"app-table",11),t.NdJ("pageChange",function(l){return e.pageChangeHandler(l)}),t.YNc(28,at,8,12,"ng-template",12),t.YNc(29,lt,2,2,"ng-template",13),t.qZA(),t.YNc(30,it,10,10,"div",14),t.YNc(31,ct,6,3,"div",14),t.qZA()()),2&n){const a=t.MAs(5),l=t.MAs(7);t.xp6(1),t.Q6J("nzSuffix",a),t.xp6(1),t.Q6J("ngModel",e.searchValue)("placeholder",t.lcZ(3,17,"\u8bf7\u8f93\u5165\u4f5c\u4e1a\u540d\u79f0")),t.xp6(8),t.hij("",t.lcZ(11,19,e.typeList[0].name),": "),t.xp6(3),t.Q6J("data",e.typeList[0].children),t.xp6(3),t.hij("",t.lcZ(17,21,e.typeList[1].name),": "),t.xp6(3),t.Q6J("data",e.typeList[1].children),t.xp6(3),t.hij("",t.lcZ(23,23,e.typeList[2].name),": "),t.xp6(3),t.Q6J("data",e.typeList[2].children),t.xp6(1),t.Q6J("ngStyle",t.VKq(25,rt,"calc(100% - 111px - "+l.offsetHeight+"px)")),t.xp6(1),t.Q6J("columns",e.columns)("data",e.listOfData)("total",e.pageInfo.total)("pageIndex",e.pageInfo.pageIndex)("pageSize",e.pageInfo.pageSize),t.xp6(3),t.Q6J("ngIf",e.currentJob),t.xp6(1),t.Q6J("ngIf",e.currentTask)}},directives:[P.w,M.gB,M.ke,M.Zp,m.Fj,m.JJ,m.On,W.Ls,X.R,C.PC,T.a,z.Hh,y.D6,J.SY,C.O5,K.i,Z.JW,q.n,w.t],pipes:[p.o9],styles:["html.default[_ngcontent-%COMP%]   html[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{min-width:1366px}html.default[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}html.default[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;flex:auto;flex-direction:column}html.default[_ngcontent-%COMP%]   .fdc[_ngcontent-%COMP%]{flex-direction:column}html.default[_ngcontent-%COMP%]   .fdr[_ngcontent-%COMP%]{flex-direction:row}html.default[_ngcontent-%COMP%]   .fauto[_ngcontent-%COMP%]{flex:auto}html.default[_ngcontent-%COMP%]   .pf[_ngcontent-%COMP%]{position:fixed}html.default[_ngcontent-%COMP%]   .pr[_ngcontent-%COMP%]{position:relative}html.default[_ngcontent-%COMP%]   .pa[_ngcontent-%COMP%]{position:absolute}html.default[_ngcontent-%COMP%]   .fl[_ngcontent-%COMP%]{float:left}html.default[_ngcontent-%COMP%]   .fr[_ngcontent-%COMP%]{float:right}html.default[_ngcontent-%COMP%]   .clear-f[_ngcontent-%COMP%]{clear:both}html.default[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-table-pagination.ant-pagination[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .ant-pagination[_ngcontent-%COMP%]{text-align:right}html.default[_ngcontent-%COMP%]   .ant-table-column-sorter[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger[_ngcontent-%COMP%]{color:#a1a1a1}html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger.active[_ngcontent-%COMP%]{color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-sort[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-has-sorters[_ngcontent-%COMP%]:hover{background:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-tree-switcher[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-tree-indent-unit[_ngcontent-%COMP%]{width:17px;color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tree[_ngcontent-%COMP%]   .ant-tree-node-content-wrapper[_ngcontent-%COMP%]{padding:0}html.default[_ngcontent-%COMP%]   .ant-tree-checkbox-inner[_ngcontent-%COMP%]{display:inline-block}html.default[_ngcontent-%COMP%]   .ant-select-tree[_ngcontent-%COMP%]   .ant-select-tree-node-content-wrapper.ant-select-tree-node-selected[_ngcontent-%COMP%]:hover{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-modal-title[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-item-selected[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-submenu-title-selected[_ngcontent-%COMP%]{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]{background-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]:after{border-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tooltip[_ngcontent-%COMP%]{max-width:550px;max-height:550px;overflow:hidden}html.default[_ngcontent-%COMP%]   .ant-tooltip-content[_ngcontent-%COMP%]{width:100%;height:100%;max-width:550px;max-height:542px}html.default[_ngcontent-%COMP%]   .ant-tooltip-inner[_ngcontent-%COMP%]{box-shadow:none}html.default   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td i{margin-right:5px;font-size:22px}html.default   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td i.ic-chakanrizhi1, html.default   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td i.ic-chakanzhuangtai1, html.default   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td i.ic-chakanshuju1{font-size:16px;margin-right:7px}html.default   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td i.ic-yunhang, html.default   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td i.ic-stop{font-size:18px}html.default   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td i.ic-yunhang{margin-left:3px;margin-top:1px}html.default   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td i.ic-xiugai{margin-right:0}html.default   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td i.disabled{opacity:.4;cursor:not-allowed}html.default   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td.operation-column{display:flex;justify-content:center;align-items:center}html.default   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td a{display:inline-block;overflow:hidden;word-break:keep-all;text-overflow:ellipsis;white-space:nowrap;max-width:200px}html.default   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table nz-switch{position:relative;bottom:2px;white-space:nowrap}html.default   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table .ant-table-pagination.ant-pagination{margin-top:8px}html.default   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;background-color:#fbffff;z-index:2}html.default   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]   .modal-inner[_ngcontent-%COMP%]{width:100%;height:calc(100% - 25px);overflow-y:auto}html.dark   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td i{margin-right:5px;font-size:22px}html.dark   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td i.ic-chakanrizhi1, html.dark   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td i.ic-chakanzhuangtai1, html.dark   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td i.ic-chakanshuju1{font-size:16px;margin-right:7px}html.dark   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td i.ic-yunhang, html.dark   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td i.ic-stop{font-size:18px}html.dark   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td i.ic-yunhang{margin-left:3px;margin-top:1px}html.dark   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td i.ic-xiugai{margin-right:0}html.dark   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td i.disabled{opacity:.4;cursor:not-allowed}html.dark   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td.operation-column{display:flex;justify-content:center;align-items:center}html.dark   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table td a{display:inline-block;overflow:hidden;word-break:keep-all;text-overflow:ellipsis;white-space:nowrap;max-width:200px}html.dark   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table nz-switch{position:relative;bottom:2px;white-space:nowrap}html.dark   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]     .app-table .ant-table-pagination.ant-pagination{margin-top:8px}html.dark   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;background-color:#fbfcff;z-index:2}html.dark   [_nghost-%COMP%]   .table-box[_ngcontent-%COMP%]   .modal-inner[_ngcontent-%COMP%]{width:100%;height:calc(100% - 25px);overflow-y:auto}"],data:{animation:[x.MC]}}),o})();var I=i(47910),b=i(65324),L=i(16114),R=i(23868),S=i(92905),st=i(60912),ht=i(90685);function dt(o,c){if(1&o&&(t.TgZ(0,"label",14),t._uU(1),t.ALo(2,"nzI18n"),t.qZA()),2&o){const n=c.$implicit;t.Q6J("nzValue",n.key),t.xp6(1),t.Oqu(t.lcZ(2,2,n.i18n))}}function pt(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"nz-range-picker",3),t.NdJ("ngModelChange",function(a){return t.CHM(n),t.oxw().dateRange=a})("ngModelChange",function(){return t.CHM(n),t.oxw().handleUpdate()}),t.qZA()}if(2&o){const n=t.oxw();t.Q6J("ngModel",n.dateRange)}}function ut(o,c){if(1&o&&t._UZ(0,"div",15),2&o){const n=t.oxw();t.Q6J("options",n.options)("autoResize",!0)("resizeAnimationTime",0)}}function mt(o,c){1&o&&t._UZ(0,"nz-empty",16)}function _t(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"i",17),t.NdJ("click",function(){const l=t.CHM(n).$implicit;return t.oxw().lookLogHandler(l)}),t.qZA(),t.TgZ(1,"i",18),t.NdJ("click",function(){const l=t.CHM(n).$implicit;return t.oxw().lookDataHandler(l)}),t.qZA(),t.TgZ(2,"i",19),t.NdJ("click",function(){const l=t.CHM(n).$implicit;return t.oxw().lookDataHandler(l,"result")}),t.qZA(),t.TgZ(3,"i",20),t.NdJ("nzOnConfirm",function(){const l=t.CHM(n).$implicit;return t.oxw().deleteConfirm(l)}),t.ALo(4,"nzI18n"),t.ALo(5,"nzI18n"),t.ALo(6,"nzI18n"),t.qZA()}if(2&o){const n=c.$implicit;t.Q6J("nz-tooltip","\u67e5\u770b\u65e5\u5fd7"),t.xp6(1),t.Q6J("nz-tooltip","\u67e5\u770b\u72b6\u6001"),t.xp6(1),t.Q6J("disabled","FINISHED"!==n.state)("nz-tooltip","\u67e5\u770b\u6570\u636e"),t.xp6(1),t.Q6J("nzPopconfirmTitle",t.lcZ(4,6,"base.confirmDel")+t.lcZ(5,8,"menu.job")+"?")("nz-tooltip",t.lcZ(6,10,"base.delete"))}}function Ct(o,c){if(1&o&&(t.TgZ(0,"a",21),t._uU(1),t.qZA()),2&o){const n=c.$implicit;t.Q6J("href",n.trackUrl,t.LSH),t.xp6(1),t.Oqu(n.trackUrl)}}function ft(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"div",22)(1,"div",23),t._uU(2," \u4efb\u52a1\u65e5\u5fd7 "),t.TgZ(3,"i",24),t.NdJ("click",function(){return t.CHM(n),t.oxw().currentTask=null}),t.qZA()(),t.TgZ(4,"div",25),t._UZ(5,"app-task-log",26),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(5),t.Q6J("taskId",null==n.currentTask?null:n.currentTask.id)}}const bt=[{path:"",component:D,canActivate:[h.$P],canActivateChild:[h.$P],children:[{path:"list",component:F,data:{authPathMatch:"full"},canActivate:[h.$P],canActivateChild:[h.$P]},{path:"task",component:(()=>{class o{constructor(n,e,a,l,r,g){this.api=n,this.router=e,this.message=a,this.i18n=l,this.themeSer=r,this.notify=g,this.statusList=d.hY,this.statusAllChecked=!1,this.statusIndeterminate=!0,this.typeAllChecked=!0,this.typeIndeterminate=!1,this.timeList=[{key:"1",i18n:"\u6700\u8fd11\u5c0f\u65f6",timeUnit:"HOURS"},{key:"24",i18n:"\u6700\u8fd124\u5c0f\u65f6",timeUnit:"HOURS"},{key:"5",i18n:"\u6700\u8fd15\u5929",timeUnit:"DAYS"},{key:"10",i18n:"\u6700\u8fd110\u5929",timeUnit:"DAYS"},{key:"30",i18n:"\u6700\u8fd130\u5929",timeUnit:"DAYS"},{key:"custom",i18n:"\u81ea\u5b9a\u4e49",timeUnit:""}],this.timeValue="1",this.dateRange=null,this.showChart=!0,this.columns=[{type:"checkbox"},{type:"index"},{i18n:"\u6d41\u7a0b\u540d\u79f0",field:"processName"},{i18n:"\u7248\u672c\u7c7b\u578b",field:"processVersionTypeZh"},{i18n:"\u8fd0\u884c\u7248\u672c",field:"processVersion"},{i18n:"\u4efb\u52a1\u7c7b\u578b",field:"triggerTypeZh"},{i18n:"\u5f00\u59cb\u65f6\u95f4",field:"runStartTime"},{i18n:"\u7ed3\u675f\u65f6\u95f4",field:"runEndTime"},{i18n:"\u8017\u65f6",field:"duration"},{i18n:"\u72b6\u6001",field:"stateZh"},{i18n:"\u4efb\u52a1Url",render:"trackUrl"},{type:"operate",render:"opts"}],this.pageInfo={pageIndex:1,pageSize:10,total:0}}ngOnInit(){this.typeList=d.UA.concat([]).map(e=>(e.checked=!0,e)),this.getStatTask(),this.getStatTaskList();const n=new Date;this.dateRange=[new Date(n.getFullYear(),n.getMonth()-2,n.getDate()),n],this.subscription=this.notify.get(b.gh.ToggleTheme).subscribe(()=>{this.getStatTask()})}ngOnDestroy(){this.subscription.unsubscribe()}getParams(){var n;const e={jobTriggerTypes:this.typeList.filter(a=>a.checked).map(a=>a.value),runningStates:this.statusList.filter(a=>a.checked).map(a=>a.value)};return"custom"===this.timeValue?(e.startTime=(0,I.Z)(this.dateRange[0],"yyyy-MM-dd HH:mm:ss"),e.endTime=(0,I.Z)(this.dateRange[1],"yyyy-MM-dd HH:mm:ss")):(e.recentTime=this.timeValue,e.timeUnit=null===(n=this.timeList.find(a=>a.key===this.timeValue))||void 0===n?void 0:n.timeUnit),e}updateAllChecked(n){this[`${n}Indeterminate`]=!1,this[`${n}List`]=this[`${n}List`].map(this[`${n}AllChecked`]?e=>Object.assign(Object.assign({},e),{checked:!0}):e=>Object.assign(Object.assign({},e),{checked:!1})),this.handleUpdate()}updateSingleChecked(n){this[`${n}List`].every(e=>!e.checked)?(this[`${n}AllChecked`]=!1,this[`${n}Indeterminate`]=!1):this[`${n}List`].every(e=>e.checked)?(this[`${n}AllChecked`]=!0,this[`${n}Indeterminate`]=!1):this[`${n}Indeterminate`]=!0,this.handleUpdate()}getStatTask(){const n=this.themeSer.theme===this.themeSer.themes[0].code?["#2a8b92","#50b7a8","#74d58f"]:["#264f83","#378aaa","#698fd8"];this.api.statTask(this.getParams()).subscribe(e=>{const a=e.result.map(s=>s.resultTime),l=e.result.filter(s=>"IMMEDIATE"===s.jobTriggerType).map(s=>s.resultCount),r=e.result.filter(s=>"SCHEDULER"===s.jobTriggerType).map(s=>s.resultCount),g=e.result.filter(s=>"EVENT"===s.jobTriggerType).map(s=>s.resultCount),_=[];l.length&&_.push({name:"\u5373\u65f6",type:"bar",stack:"total",emphasis:{focus:"series"},data:l,barGap:0,barCategoryGap:1,barMaxWidth:50}),r.length&&_.push({name:"\u5b9a\u65f6",type:"bar",stack:"total",emphasis:{focus:"series"},data:r,barGap:0,barCategoryGap:1,barMaxWidth:50}),g.length&&_.push({name:"\u4e8b\u4ef6\u89e6\u53d1",type:"bar",stack:"total",emphasis:{focus:"series"},data:g,barGap:0,barCategoryGap:1,barMaxWidth:50}),_.length?(this.showChart=!0,this.options={color:n,tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{left:"right",textStyle:{color:n[0]}},grid:{top:"30",left:"0",right:"0",bottom:"2%",containLabel:!0},xAxis:{type:"category",data:a,axisLine:{lineStyle:{color:n[0],opacity:.5}},axisTick:{length:3}},yAxis:{type:"value",axisLabel:{color:n[0]},splitLine:{lineStyle:{color:n[0],opacity:.1}}},series:_}):this.showChart=!1})}getStatTaskList(){this.api.statTaskList(this.getParams(),this.pageInfo.pageIndex,this.pageInfo.pageSize).subscribe(n=>{this.data=n.content,this.data.map(e=>{var a,l,r;e.stateZh=null===(a=d.hY.find(g=>g.value===e.state))||void 0===a?void 0:a.label,e.processVersionTypeZh=null===(l=d.IA.find(g=>g.value===e.processVersionType))||void 0===l?void 0:l.label,e.triggerTypeZh=null===(r=d.UA.find(g=>g.value===e.triggerType))||void 0===r?void 0:r.label}),this.pageInfo.total=n.totalElements})}pageChangeHandler(n){this.pageInfo.pageIndex=n.pageIndex,this.pageInfo.pageSize=n.pageSize,this.getStatTaskList()}handleUpdate(){this.getStatTask(),this.getStatTaskList()}lookLogHandler(n){this.currentTask=n}lookDataHandler(n,e="status"){this.router.navigate([`/job/result/${n.id}`],{queryParams:{processId:n.processId,type:e}})}deleteConfirm(n){this.api.deleteJobTask(n.id).subscribe(e=>{this.message.success(`${this.i18n.translate("base.delete")}${this.i18n.translate("base.success")}`),this.getStatTaskList()})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(k.k5),t.Y36(u.F0),t.Y36(v.dD),t.Y36(p.wi),t.Y36(b.fY),t.Y36(b.tu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-task-retrieval"]],decls:27,vars:17,consts:[[1,"left-box","fl"],[1,"title"],["nz-checkbox","",3,"ngModel","nzIndeterminate","ngModelChange"],[3,"ngModel","ngModelChange"],["nz-radio","",3,"nzValue",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange",4,"ngIf"],[1,"right-box","fr"],["sz-chart","","class","chart-box","style","height: 25%;",3,"options","autoResize","resizeAnimationTime",4,"ngIf","ngIfElse"],["emptyTemp",""],[1,"table-box","pr"],[3,"columns","data","total","pageIndex","pageSize","pageChange"],["sz-column","opts"],["sz-column","trackUrl"],["class","modal pa",4,"ngIf"],["nz-radio","",3,"nzValue"],["sz-chart","",1,"chart-box",2,"height","25%",3,"options","autoResize","resizeAnimationTime"],["nzNotFoundImage","simple"],["sz-icon","","type","chakanrizhi1",3,"nz-tooltip","click"],["sz-icon","","type","chakanzhuangtai1",3,"nz-tooltip","click"],["sz-icon","","type","chakanshuju1",3,"disabled","nz-tooltip","click"],["sz-icon","","type","shanchu","nz-popconfirm","",3,"nzPopconfirmTitle","nz-tooltip","nzOnConfirm"],["target","_blank",3,"href"],[1,"modal","pa"],[1,"bread-crumb"],["sz-icon","","type","return",3,"click"],[1,"modal-inner"],[3,"taskId"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2,"\u72b6\u6001"),t.qZA(),t.TgZ(3,"ul")(4,"label",2),t.NdJ("ngModelChange",function(l){return e.statusAllChecked=l})("ngModelChange",function(){return e.updateAllChecked("status")}),t._uU(5," \u5168\u9009 "),t.qZA(),t.TgZ(6,"nz-checkbox-group",3),t.NdJ("ngModelChange",function(l){return e.statusList=l})("ngModelChange",function(){return e.updateSingleChecked("status")}),t.qZA()(),t.TgZ(7,"span",1),t._uU(8,"\u7c7b\u578b"),t.qZA(),t.TgZ(9,"ul")(10,"label",2),t.NdJ("ngModelChange",function(l){return e.typeAllChecked=l})("ngModelChange",function(){return e.updateAllChecked("type")}),t._uU(11," \u5168\u9009 "),t.qZA(),t.TgZ(12,"nz-checkbox-group",3),t.NdJ("ngModelChange",function(l){return e.typeList=l})("ngModelChange",function(){return e.updateSingleChecked("type")}),t.qZA()(),t.TgZ(13,"span",1),t._uU(14,"\u65f6\u95f4"),t.qZA(),t.TgZ(15,"nz-radio-group",3),t.NdJ("ngModelChange",function(l){return e.timeValue=l})("ngModelChange",function(){return e.handleUpdate()}),t.YNc(16,dt,3,4,"label",4),t.qZA(),t.YNc(17,pt,1,1,"nz-range-picker",5),t.qZA(),t.TgZ(18,"div",6),t.YNc(19,ut,1,3,"div",7),t.YNc(20,mt,1,0,"ng-template",null,8,t.W1O),t.TgZ(22,"div",9)(23,"app-table",10),t.NdJ("pageChange",function(l){return e.pageChangeHandler(l)}),t.YNc(24,_t,7,12,"ng-template",11),t.YNc(25,Ct,2,2,"ng-template",12),t.qZA(),t.YNc(26,ft,6,1,"div",13),t.qZA()()),2&n){const a=t.MAs(21);t.xp6(4),t.Q6J("ngModel",e.statusAllChecked)("nzIndeterminate",e.statusIndeterminate),t.xp6(2),t.Q6J("ngModel",e.statusList),t.xp6(4),t.Q6J("ngModel",e.typeAllChecked)("nzIndeterminate",e.typeIndeterminate),t.xp6(2),t.Q6J("ngModel",e.typeList),t.xp6(3),t.Q6J("ngModel",e.timeValue),t.xp6(1),t.Q6J("ngForOf",e.timeList),t.xp6(1),t.Q6J("ngIf","custom"===e.timeValue),t.xp6(2),t.Q6J("ngIf",e.showChart)("ngIfElse",a),t.xp6(4),t.Q6J("columns",e.columns)("data",e.data)("total",e.pageInfo.total)("pageIndex",e.pageInfo.pageIndex)("pageSize",e.pageInfo.pageSize),t.xp6(3),t.Q6J("ngIf",e.currentTask)}},directives:[L.Ie,m.JJ,m.On,L.ub,R.Dg,C.sg,R.Of,C.O5,S.uw,S.wS,st.b,ht.p9,T.a,z.Hh,y.D6,J.SY,Z.JW,w.t],pipes:[p.o9],styles:["html.default[_ngcontent-%COMP%]   html[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{min-width:1366px}html.default[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}html.default[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;flex:auto;flex-direction:column}html.default[_ngcontent-%COMP%]   .fdc[_ngcontent-%COMP%]{flex-direction:column}html.default[_ngcontent-%COMP%]   .fdr[_ngcontent-%COMP%]{flex-direction:row}html.default[_ngcontent-%COMP%]   .fauto[_ngcontent-%COMP%]{flex:auto}html.default[_ngcontent-%COMP%]   .pf[_ngcontent-%COMP%]{position:fixed}html.default[_ngcontent-%COMP%]   .pr[_ngcontent-%COMP%]{position:relative}html.default[_ngcontent-%COMP%]   .pa[_ngcontent-%COMP%]{position:absolute}html.default[_ngcontent-%COMP%]   .fl[_ngcontent-%COMP%]{float:left}html.default[_ngcontent-%COMP%]   .fr[_ngcontent-%COMP%]{float:right}html.default[_ngcontent-%COMP%]   .clear-f[_ngcontent-%COMP%]{clear:both}html.default[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-table-pagination.ant-pagination[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .ant-pagination[_ngcontent-%COMP%]{text-align:right}html.default[_ngcontent-%COMP%]   .ant-table-column-sorter[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger[_ngcontent-%COMP%]{color:#a1a1a1}html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger.active[_ngcontent-%COMP%]{color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-sort[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-has-sorters[_ngcontent-%COMP%]:hover{background:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-tree-switcher[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-tree-indent-unit[_ngcontent-%COMP%]{width:17px;color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tree[_ngcontent-%COMP%]   .ant-tree-node-content-wrapper[_ngcontent-%COMP%]{padding:0}html.default[_ngcontent-%COMP%]   .ant-tree-checkbox-inner[_ngcontent-%COMP%]{display:inline-block}html.default[_ngcontent-%COMP%]   .ant-select-tree[_ngcontent-%COMP%]   .ant-select-tree-node-content-wrapper.ant-select-tree-node-selected[_ngcontent-%COMP%]:hover{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-modal-title[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-item-selected[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-submenu-title-selected[_ngcontent-%COMP%]{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]{background-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]:after{border-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tooltip[_ngcontent-%COMP%]{max-width:550px;max-height:550px;overflow:hidden}html.default[_ngcontent-%COMP%]   .ant-tooltip-content[_ngcontent-%COMP%]{width:100%;height:100%;max-width:550px;max-height:542px}html.default[_ngcontent-%COMP%]   .ant-tooltip-inner[_ngcontent-%COMP%]{box-shadow:none}html.default   [_nghost-%COMP%]{width:100%;height:100%}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]{width:230px;height:100%;border:1px solid #dbe9ea;background-color:#f7fdfd;overflow-y:auto}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;width:100%;height:30px;line-height:30px;padding-left:8px;background-color:#e2eeee;white-space:nowrap;color:#396669}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:4px 15px}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]     .ant-checkbox-group-item{display:flex;margin:8px 0}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .ant-checkbox-wrapper[_ngcontent-%COMP%], html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .ant-radio-group[_ngcontent-%COMP%]{width:100%}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .ant-radio-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;padding:4px 15px;margin:8px 0;transition:all .3s}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .ant-radio-wrapper[_ngcontent-%COMP%]:hover, html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .ant-radio-wrapper-checked[_ngcontent-%COMP%]{background-color:#d9fbfd}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]{margin-left:15px;display:flex;flex-direction:column;width:calc(100% - 245px);height:100%}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]     .ant-empty-image{height:40px}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .chart-box[_ngcontent-%COMP%]{margin-bottom:15px}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]{width:100%;height:calc(75% - 15px);overflow:auto}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]     .ant-table-pagination.ant-pagination{margin-top:8px}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]     td i{margin-right:5px;font-size:22px}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]     td i.ic-chakanrizhi1, html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]     td i.ic-chakanzhuangtai1, html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]     td i.ic-chakanshuju1{font-size:16px;margin-right:7px}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#fbffff;left:0;top:0;z-index:2}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   .modal-inner[_ngcontent-%COMP%]{width:100%;height:calc(100% - 25px);overflow-y:auto}html.dark   [_nghost-%COMP%]{width:100%;height:100%}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]{width:230px;height:100%;border:1px solid #dbe9ea;background-color:#f4f7fc;overflow-y:auto}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;width:100%;height:30px;line-height:30px;padding-left:8px;background-color:#e6edf7;white-space:nowrap;color:#394f69}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:4px 15px}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]     .ant-checkbox-group-item{display:flex;margin:8px 0}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .ant-checkbox-wrapper[_ngcontent-%COMP%], html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .ant-radio-group[_ngcontent-%COMP%]{width:100%}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .ant-radio-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;padding:4px 15px;margin:8px 0;transition:all .3s}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .ant-radio-wrapper[_ngcontent-%COMP%]:hover, html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .ant-radio-wrapper-checked[_ngcontent-%COMP%]{background-color:#d9e1fd}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]{margin-left:15px;display:flex;flex-direction:column;width:calc(100% - 245px);height:100%}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]     .ant-empty-image{height:40px}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .chart-box[_ngcontent-%COMP%]{margin-bottom:15px}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]{width:100%;height:calc(75% - 15px);overflow:auto}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]     .ant-table-pagination.ant-pagination{margin-top:8px}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]     td i{margin-right:5px;font-size:22px}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]     td i.ic-chakanrizhi1, html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]     td i.ic-chakanzhuangtai1, html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]     td i.ic-chakanshuju1{font-size:16px;margin-right:7px}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#fbfcff;left:0;top:0;z-index:2}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]   .modal-inner[_ngcontent-%COMP%]{width:100%;height:calc(100% - 25px);overflow-y:auto}"],data:{animation:[x.MC]}}),o})(),data:{authPathMatch:"full"},canActivate:[h.$P],canActivateChild:[h.$P]},{path:"retrieval",component:gt,data:{authPathMatch:"full"},canActivate:[h.$P],canActivateChild:[h.$P]}]},{path:"add",loadChildren:()=>Promise.all([i.e(635),i.e(19),i.e(92),i.e(440)]).then(i.bind(i,25440)).then(o=>o.FormModule)},{path:"edit/:jobId",loadChildren:()=>Promise.all([i.e(635),i.e(19),i.e(92),i.e(440)]).then(i.bind(i,25440)).then(o=>o.FormModule)},{path:"result/:taskId",loadChildren:()=>Promise.all([i.e(635),i.e(254),i.e(19),i.e(57),i.e(270)]).then(i.bind(i,4270)).then(o=>o.MainModule)}];let Ot=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[H.m,U.Y,f.ip,h.OX,u.Bz.forChild(bt)]]}),o})()}}]);