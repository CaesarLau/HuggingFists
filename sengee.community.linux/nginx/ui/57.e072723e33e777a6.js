"use strict";(self.webpackChunksengee_ui=self.webpackChunksengee_ui||[]).push([[57],{74736:(N,y,d)=>{d.d(y,{N:()=>ot});var a=d(57781),t=d(28076),b=d(46055),n=d(5e3),O=d(50489),C=d(89445),k=d(69808),M=d(49727),D=d(86045),_=d(24091);const x=["blank"],z=["portDataBox"],I=["dataVis"],U=["codemirror"],L=["releasedModelTemp"],S=["modelGroup"],Q=["groupTree"];function J(g,P){if(1&g&&(n.TgZ(0,"a",48),n._uU(1),n._UZ(2,"span",49),n.qZA()),2&g){const o=n.oxw(),l=n.MAs(5);n.Q6J("nzDropdownMenu",l),n.xp6(1),n.hij(" ",(null==o.selectedTask?null:o.selectedTask.jobName)||"\u8bf7\u9009\u62e9\u5b50\u4efb\u52a1"," ")}}function q(g,P){if(1&g){const o=n.EpF();n.TgZ(0,"li",50),n.NdJ("click",function(){const m=n.CHM(o).$implicit;return n.oxw().toggleTask(m)}),n._uU(1),n.qZA()}if(2&g){const o=P.$implicit;n.xp6(1),n.Oqu(o.jobName)}}function G(g,P){if(1&g){const o=n.EpF();n.TgZ(0,"li",51),n.NdJ("click",function(){const m=n.CHM(o).$implicit;return n.oxw().selectNode(m)}),n._UZ(1,"i",52),n._uU(2),n.qZA()}if(2&g){const o=P.$implicit,l=n.oxw();n.ekj("selected",o===l.currentNode),n.xp6(2),n.hij(" ",o.title," ")}}function T(g,P){if(1&g&&(n.TgZ(0,"div",53),n._uU(1),n.qZA()),2&g){const o=n.oxw();n.xp6(1),n.hij(" \u603b\u8bb0\u5f55\u6570\uff1a",o.total," ")}}function Y(g,P){if(1&g&&(n.TgZ(0,"th",54),n._uU(1),n.qZA()),2&g){const o=P.$implicit;n.Q6J("nzSortFn",o.sortFn),n.xp6(1),n.Oqu(o.columnName)}}const E=function(g){return{$implicit:g}};function j(g,P){if(1&g&&(n.TgZ(0,"td",56)(1,"div",57)(2,"pre"),n._uU(3),n.ALo(4,"cellData"),n.qZA()()()),2&g){const o=P.$implicit,l=n.oxw().$implicit;n.oxw();const c=n.MAs(33);n.Q6J("nzTooltipTitle",c)("nzTooltipTitleContext",n.VKq(5,E,l[o.columnName])),n.xp6(3),n.Oqu(n.lcZ(4,3,l[o.columnName]))}}function H(g,P){if(1&g&&(n.TgZ(0,"tr"),n.YNc(1,j,5,7,"td",55),n.qZA()),2&g){const o=n.oxw();n.xp6(1),n.Q6J("ngForOf",o.portDataColumns)}}function B(g,P){if(1&g&&(n.TgZ(0,"div")(1,"pre"),n._uU(2),n.ALo(3,"cellData"),n.qZA()()),2&g){const o=P.$implicit;n.xp6(2),n.Oqu(n.lcZ(3,1,o))}}function W(g,P){if(1&g){const o=n.EpF();n.TgZ(0,"i",61),n.NdJ("click",function(){n.CHM(o);const c=n.oxw().$implicit;return n.oxw().lookData(!0,c)}),n.qZA()}2&g&&n.Q6J("nz-tooltip","\u683c\u5f0f\u5316\u6570\u636e")}function $(g,P){if(1&g){const o=n.EpF();n.TgZ(0,"tr")(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA(),n.TgZ(9,"td"),n._uU(10),n.qZA(),n.TgZ(11,"td"),n._uU(12),n.ALo(13,"minus"),n.qZA(),n.TgZ(14,"td"),n._uU(15),n.qZA(),n.TgZ(16,"td",58)(17,"i",59),n.NdJ("click",function(){const m=n.CHM(o).$implicit;return n.oxw().lookData(!1,m)}),n.qZA(),n.YNc(18,W,1,1,"i",60),n.qZA()()}if(2&g){const o=P.$implicit;n.xp6(2),n.Oqu(o.ioType),n.xp6(2),n.Oqu(o.mediaType),n.xp6(2),n.Oqu(o.entityType),n.xp6(2),n.Oqu(o.location),n.xp6(2),n.Oqu(o.operatorId),n.xp6(2),n.Oqu(n.lcZ(13,9,o.rowCount)),n.xp6(3),n.Oqu(o.size),n.xp6(2),n.Q6J("nz-tooltip","\u539f\u59cb\u6570\u636e"),n.xp6(1),n.Q6J("ngIf",!("FILE"===o.mediaType&&o.rowCount<0))}}function V(g,P){if(1&g){const o=n.EpF();n.TgZ(0,"div",62)(1,"app-io-data",63),n.NdJ("close",function(){return n.CHM(o),n.oxw().ioAction=null}),n.qZA()()}if(2&g){const o=n.oxw();n.Q6J("@fadeMotion",void 0),n.xp6(1),n.Q6J("ioAction",o.ioAction)("formatable",o.formatable)}}function K(g,P){if(1&g&&(n.TgZ(0,"div",64),n._uU(1),n.qZA(),n.TgZ(2,"div"),n._uU(3),n.qZA()),2&g){const o=n.oxw();n.xp6(1),n.hij("\u6a21\u578b\u540d\u79f0\uff1a",null==o.releasedModel?null:o.releasedModel.name,""),n.xp6(2),n.hij("\u53d1\u5e03\u65f6\u95f4\uff1a",null==o.releasedModel?null:o.releasedModel.createdTime,"")}}function X(g,P){if(1&g){const o=n.EpF();n.TgZ(0,"app-group-tree",65,66),n.NdJ("selectedGroup",function(c){return n.CHM(o),n.oxw().selectedGroupHandler(c)}),n.ALo(2,"nzI18n"),n.qZA()}if(2&g){const o=n.oxw();n.Q6J("name",n.lcZ(2,4,"base.modelGroup"))("groupType",o.groupType)("readonly",!0)("searchEnabled",!1)}}function tt(g,P){if(1&g&&(n.ynx(0),n._UZ(1,"app-dir-data",67),n.BQk()),2&g){const o=n.oxw();n.xp6(1),n.Q6J("ioAction",o.dirIoAction)}}const nt=function(){return{mode:"application/json",readOnly:!0}},et=function(){return{width:"70%",height:"80%"}};let ot=(()=>{class g{constructor(o,l,c,m,v,Z,w){this.api=o,this.i18n=l,this.modelApi=c,this.location=m,this.message=v,this.nzImageService=Z,this.ser=w,this.selectedIndex=0,this.formatable=!1,this.dataSize=100,this.pageNumber=1,this.pageSize=100,this.total=0,this.loading=!0,this.columnNumTypes=["byte","short","int","long","float","double"],this.pageInfo={pageIndex:1,pageSize:10,pageTotal:0},this.modalVisible=!1,this.groupType=b.b0.ModelGrp,this.columns=[{type:"index"},{i18n:"\u6a21\u578b\u540d\u79f0",field:"modelName"},{i18n:"\u6a21\u578b\u5206\u7c7b",field:"modelCategory"},{i18n:"\u6a21\u578b\u7c7b\u578b",field:"modelType"},{i18n:"\u7b97\u6cd5",field:"algor"},{i18n:"\u751f\u6210\u7b97\u5b50",field:"operatorId"},{i18n:"\u65f6\u95f4",field:"createdTime"},{buttons:[{icon:"eye",tip:"\u67e5\u770b\u8be6\u60c5",click:F=>this.lookDetail(F)},{icon:"fabu",tip:"base.release",click:F=>this.releaseHandler(F)}]}]}ngOnInit(){}ngAfterViewInit(){new IntersectionObserver(l=>{if(l[0].isIntersecting){if(this.loading)return;this.pageNumber++,this.getResPortData()}}).observe(this.blank.nativeElement)}ngOnChanges(o){var l;o.taskId&&o.taskId.currentValue&&(this.selectedTask=this.selectedTask||(null===(l=this.taskList)||void 0===l?void 0:l[0]),this.getResPortList(),this.getIoActionList(),this.getResModelList())}goBack(){this.location.back()}selectedIndexChange(o){2===o&&this.dataVis.resize()}toggleTask(o){this.selectedTask=o,this.portData&&(this.portData.length=0),this.pageNumber=1,this.portDataBox.nativeElement.scrollTop=0,this.getResPortList(),this.getIoActionList(),this.getResModelList()}searchHandler(o){}openFolder(o){}tabSelectChange(o){2===o&&setTimeout(()=>{this.codemirror.codeMirror.refresh()})}getResPortList(){var o;this.api.getResPortList((null===(o=this.selectedTask)||void 0===o?void 0:o.id)||this.taskId).subscribe(l=>{this.treeData=l.map(c=>({title:c,key:c,isLeaf:!0})),this.treeData&&this.treeData.length&&(this.currentNode=this.treeData[0])&&this.getResPortData()})}getResPortData(){var o;!this.currentNode||(this.loading=!0,this.api.getResPortData((null===(o=this.selectedTask)||void 0===o?void 0:o.id)||this.taskId,this.currentNode.title,this.pageNumber,this.pageSize).subscribe(l=>{this.loading=!1;let c=l;this.total=c.total,"json"===c.dataType&&(c=JSON.parse(c.result)),this.portDataColumns=c.columnSetMetadata.columns,this.portDataColumns.map(v=>{v.sortFn=this.columnNumTypes.indexOf(v.columnType.toLocaleLowerCase())>-1?(Z,w)=>Z[v.columnName]-w[v.columnName]:(Z,w)=>Z[v.columnName].localeCompare(w[v.columnName])});const m=c.data.map(v=>{const Z={};return this.portDataColumns.map((w,F)=>{Z[w.columnName]=v[F]}),Z});this.portData=this.portData?this.portData.concat(m):m}))}selectNode(o){this.currentNode=o,this.portData&&(this.portData.length=0),this.pageNumber=1,this.portDataBox.nativeElement.scrollTop=0,this.getResPortData()}getIoActionList(){var o;this.api.getIoActionList((null===(o=this.selectedTask)||void 0===o?void 0:o.id)||this.taskId).subscribe(l=>{this.ioActionList=l})}pageChangeHandler(){}lookData(o,l){a.vu.test(l.location)?this.api.getIoActionData(l.id,l.size,!0).subscribe(c=>{this.nzImageService.preview([{src:(0,a.vK)(c.result)}])}):o||"FILE"!==l.mediaType?(this.formatable=o,this.ioAction=l):this.api.ioActionDataIsDirectory(l.id).subscribe(c=>{c?(this.dirIoAction=l,this.modalVisible=!0):(this.formatable=o,this.ioAction=l)})}handleCancel(){this.modalVisible=!1}getResModelList(){var o;this.api.getResModelList((null===(o=this.selectedTask)||void 0===o?void 0:o.id)||this.taskId).subscribe(l=>{this.listOfData=l,this.listOfData&&this.listOfData.length&&this.lookDetail(this.listOfData[0])})}lookDetail(o){this.selectedRowData=o,this.modelApi.getUnverifiedMode(o.id).subscribe(l=>{this.jsonData=JSON.stringify(l,null,"\t")})}releaseHandler(o){this.modelApi.getModelTracker(o.jobId,o.operatorId).subscribe(l=>{this.releasedModel=l,this.releasedModel?this.release2ReleasedModel(o):this.release2NewGroupOrModel(o)})}release2ReleasedModel(o){this.ser.show({title:"\u53d1\u5e03\u5230\u5df2\u6709\u6a21\u578b\uff1f",content:this.releasedModelTemp,backdropClass:"opacity-mask",top:69,right:225,height:"auto",confirmText:"\u662f",cancelText:"\u5426",confirm:()=>new Promise((l,c)=>{this.modelApi.publishToModel(o.id,this.releasedModel.id).subscribe(m=>{this.message.success("\u53d1\u5e03\u6210\u529f!"),l(!0)},m=>{c(!1)})}),cancel:()=>{setTimeout(()=>{this.release2NewGroupOrModel(o)},300)}})}release2NewGroupOrModel(o){this.ser.show({title:"\u9009\u62e9\u5206\u7ec4\u6216\u6a21\u578b",content:this.modelGroup,backdropClass:"opacity-mask",top:69,right:225,confirm:()=>new Promise((l,c)=>{var m,v,Z;(null===(m=this.selectedGrp)||void 0===m?void 0:m.resourceType)===this.groupType?this.modelApi.publishToGroup(o.id,null===(v=this.selectedGrp)||void 0===v?void 0:v.id).subscribe(w=>{this.message.success("\u53d1\u5e03\u6210\u529f!"),l(!0)},w=>{c(!1)}):this.modelApi.publishToModel(o.id,null===(Z=this.selectedGrp)||void 0===Z?void 0:Z.id).subscribe(w=>{this.message.success("\u53d1\u5e03\u6210\u529f!"),l(!0)},w=>{c(!1)})})})}deleteConfirm(o){this.modelApi.removeModel([o.id]).subscribe(l=>{this.message.success(`${this.i18n.translate("base.delete")}${this.i18n.translate("base.success")}`),this.getResModelList()})}selectedGroupHandler(o){!o||(this.selectedGrp=o,o.resourceType===this.groupType&&this.modelApi.getModelList(this.selectedGrp.id,this.selectedRowData.modelCategory).subscribe(l=>{l.map(c=>{c.title=c.name,c.key=c.id,c.isLeaf=!0}),this.groupTree.selectedNode.children=this.groupTree.selectedNode.children.filter(c=>!c.isLeaf),this.groupTree.selectedNode.addChildren(l)}))}}return g.\u0275fac=function(o){return new(o||g)(n.Y36(O.k5),n.Y36(C.wi),n.Y36(O.wt),n.Y36(k.Ye),n.Y36(M.dD),n.Y36(D.x8),n.Y36(_.qO))},g.\u0275cmp=n.Xpm({type:g,selectors:[["app-result"]],viewQuery:function(o,l){if(1&o&&(n.Gf(x,5),n.Gf(z,5),n.Gf(I,5),n.Gf(U,5),n.Gf(L,5),n.Gf(S,5),n.Gf(Q,5)),2&o){let c;n.iGM(c=n.CRH())&&(l.blank=c.first),n.iGM(c=n.CRH())&&(l.portDataBox=c.first),n.iGM(c=n.CRH())&&(l.dataVis=c.first),n.iGM(c=n.CRH())&&(l.codemirror=c.first),n.iGM(c=n.CRH())&&(l.releasedModelTemp=c.first),n.iGM(c=n.CRH())&&(l.modelGroup=c.first),n.iGM(c=n.CRH())&&(l.groupTree=c.first)}},inputs:{taskId:"taskId",taskList:"taskList",selectedTask:"selectedTask"},features:[n.TTD],decls:86,vars:37,consts:[[1,"result-box","pr"],["sz-icon","","type","return",1,"pa",3,"nz-tooltip","click"],["class","sub-task-list","nz-dropdown","",3,"nzDropdownMenu",4,"ngIf"],["menu","nzDropdownMenu"],["nz-menu","","nzSelectable",""],["nz-menu-item","",3,"click",4,"ngFor","ngForOf"],["id","result",3,"selectedIndexChange"],["alias","\u6570\u636e","id","result"],[1,"tab-content"],[1,"tree-box","fl"],[1,"title"],[1,"content"],[3,"search"],["class","li-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"data-box","fr","pr"],["class","data-size fr",4,"ngIf"],[3,"selectedIndex","selectedIndexChange"],["alias","\u6570\u636e"],[1,"tab-content","tab-content-data"],["portDataBox",""],[1,"table-box"],[3,"nzData","nzFrontPagination"],["portDataTable",""],[3,"nzSortFn",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["titleTemplate",""],[1,"blank"],["blank",""],["alias","\u7edf\u8ba1"],[3,"taskId","resPort"],["alias","\u53ef\u89c6\u5316"],["dataVis",""],["alias","\u8f93\u5165/\u8f93\u51fa","id","result"],[1,"ioAction-box","pr"],[3,"nzData","nzShowPagination"],["ioActionTable",""],["nzShowSizeChanger","","nzShowQuickJumper","",3,"nzSize","nzPageIndex","nzPageSize","nzTotal","nzPageIndexChange","nzPageSizeChange"],["class","ioAction-data pa",4,"ngIf"],["alias","\u6a21\u578b","id","result"],[1,"model-box","fl","pr"],[3,"columns","data","selectedData"],[1,"model-detail","fr"],[3,"ngModel","options","ngModelChange"],["codemirror",""],["releasedModelTemp",""],["modelGroup",""],["nzCentered","","nzClassName","dir-file-selector",3,"nzVisible","nzTitle","nzStyle","nzFooter","nzVisibleChange","nzOnCancel"],[4,"nzModalContent"],["nz-dropdown","",1,"sub-task-list",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["nz-menu-item","",3,"click"],[1,"li-item",3,"click"],[1,"icon"],[1,"data-size","fr"],[3,"nzSortFn"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipTitleContext",4,"ngFor","ngForOf"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipTitleContext"],[1,"cell"],[1,"operation-column"],["sz-icon","","type","eye",3,"nz-tooltip","click"],["sz-icon","","type","a-01",3,"nz-tooltip","click",4,"ngIf"],["sz-icon","","type","a-01",3,"nz-tooltip","click"],[1,"ioAction-data","pa"],[3,"ioAction","formatable","close"],[2,"margin-bottom","5px"],[3,"name","groupType","readonly","searchEnabled","selectedGroup"],["groupTree",""],[3,"ioAction"]],template:function(o,l){if(1&o&&(n.TgZ(0,"div",0)(1,"i",1),n.NdJ("click",function(){return l.goBack()}),n.ALo(2,"nzI18n"),n.qZA(),n.YNc(3,J,3,2,"a",2),n.TgZ(4,"nz-dropdown-menu",null,3)(6,"ul",4),n.YNc(7,q,2,1,"li",5),n.qZA()(),n.TgZ(8,"sz-tabs",6),n.NdJ("selectedIndexChange",function(m){return l.tabSelectChange(m)}),n.TgZ(9,"sz-tab",7)(10,"div",8)(11,"div",9)(12,"div",10),n._uU(13,"\u6570\u636e\u5217\u8868"),n.qZA(),n.TgZ(14,"div",11)(15,"sz-search",12),n.NdJ("search",function(m){return l.searchHandler(m)}),n.qZA(),n.TgZ(16,"ul"),n.YNc(17,G,3,3,"li",13),n.qZA()()(),n.TgZ(18,"div",14),n.YNc(19,T,2,1,"div",15),n.TgZ(20,"sz-tabs",16),n.NdJ("selectedIndexChange",function(m){return l.selectedIndex=m})("selectedIndexChange",function(m){return l.selectedIndexChange(m)}),n.TgZ(21,"sz-tab",17)(22,"div",18,19)(24,"div",20)(25,"nz-table",21,22)(27,"thead")(28,"tr"),n.YNc(29,Y,2,2,"th",23),n.qZA()(),n.TgZ(30,"tbody"),n.YNc(31,H,2,1,"tr",24),n.qZA()(),n.YNc(32,B,4,3,"ng-template",null,25,n.W1O),n._UZ(34,"p",26,27),n.qZA()()(),n.TgZ(36,"sz-tab",28)(37,"div",18)(38,"div",20),n._UZ(39,"app-stat-data",29),n.qZA()()(),n.TgZ(40,"sz-tab",30)(41,"div",18)(42,"div",20),n._UZ(43,"app-data-vis",29,31),n.qZA()()()()()()(),n.TgZ(45,"sz-tab",32)(46,"div",8)(47,"div",33)(48,"nz-table",34,35)(50,"thead")(51,"tr")(52,"th"),n._uU(53,"IO\u7c7b\u578b"),n.qZA(),n.TgZ(54,"th"),n._uU(55,"\u5b9e\u4f53\u7c7b\u578b"),n.qZA(),n.TgZ(56,"th"),n._uU(57,"\u5b9e\u4f53\u5b50\u7c7b\u578b"),n.qZA(),n.TgZ(58,"th"),n._uU(59,"\u5b9e\u4f53\u540d"),n.qZA(),n.TgZ(60,"th"),n._uU(61,"\u7b97\u5b50\u540d"),n.qZA(),n.TgZ(62,"th"),n._uU(63,"\u8bb0\u5f55\u6570"),n.qZA(),n.TgZ(64,"th"),n._uU(65,"\u5927\u5c0f(\u5b57\u8282)"),n.qZA(),n.TgZ(66,"th"),n._uU(67,"\u64cd\u4f5c"),n.qZA()()(),n.TgZ(68,"tbody"),n.YNc(69,$,19,11,"tr",24),n.qZA()(),n.TgZ(70,"nz-pagination",36),n.NdJ("nzPageIndexChange",function(m){return l.pageInfo.pageIndex=m})("nzPageSizeChange",function(m){return l.pageInfo.pageSize=m})("nzPageSizeChange",function(){return l.pageChangeHandler()})("nzPageIndexChange",function(){return l.pageChangeHandler()}),n.qZA(),n.YNc(71,V,2,3,"div",37),n.qZA()()(),n.TgZ(72,"sz-tab",38)(73,"div",8)(74,"div",39),n._UZ(75,"app-table",40),n.qZA(),n.TgZ(76,"div",41)(77,"dy-codemirror",42,43),n.NdJ("ngModelChange",function(m){return l.jsonData=m}),n.qZA()(),n.YNc(79,K,4,2,"ng-template",null,44,n.W1O),n.YNc(81,X,3,6,"ng-template",null,45,n.W1O),n.qZA()()()(),n.TgZ(83,"nz-modal",46),n.NdJ("nzVisibleChange",function(m){return l.modalVisible=m})("nzOnCancel",function(){return l.handleCancel()}),n.ALo(84,"nzI18n"),n.YNc(85,tt,2,1,"ng-container",47),n.qZA()),2&o){const c=n.MAs(26),m=n.MAs(49);n.xp6(1),n.Q6J("nz-tooltip",n.lcZ(2,31,"base.return")),n.xp6(2),n.Q6J("ngIf",l.taskList&&l.taskList.length),n.xp6(4),n.Q6J("ngForOf",l.taskList),n.xp6(10),n.Q6J("ngForOf",l.treeData),n.xp6(2),n.Q6J("ngIf",!l.selectedIndex),n.xp6(1),n.Q6J("selectedIndex",l.selectedIndex),n.xp6(5),n.Q6J("nzData",l.portData)("nzFrontPagination",!1),n.xp6(4),n.Q6J("ngForOf",l.portDataColumns),n.xp6(2),n.Q6J("ngForOf",c.data),n.xp6(8),n.Q6J("taskId",(null==l.selectedTask?null:l.selectedTask.id)||l.taskId)("resPort",null==l.currentNode?null:l.currentNode.title),n.xp6(4),n.Q6J("taskId",(null==l.selectedTask?null:l.selectedTask.id)||l.taskId)("resPort",null==l.currentNode?null:l.currentNode.title),n.xp6(5),n.Q6J("nzData",l.ioActionList)("nzShowPagination",!1),n.xp6(21),n.Q6J("ngForOf",m.data),n.xp6(1),n.Q6J("nzSize","small")("nzPageIndex",l.pageInfo.pageIndex)("nzPageSize",l.pageInfo.pageSize)("nzTotal",l.pageInfo.pageTotal),n.xp6(1),n.Q6J("ngIf",l.ioAction),n.xp6(4),n.Q6J("columns",l.columns)("data",l.listOfData)("selectedData",l.selectedRowData),n.xp6(2),n.Q6J("ngModel",l.jsonData)("options",n.DdM(35,nt)),n.xp6(6),n.Q6J("nzVisible",l.modalVisible)("nzTitle",n.lcZ(84,33,"compox.selectFile"))("nzStyle",n.DdM(36,et))("nzFooter",null)}},styles:['html.default[_ngcontent-%COMP%]   html[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{min-width:1366px}html.default[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}html.default[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;flex:auto;flex-direction:column}html.default[_ngcontent-%COMP%]   .fdc[_ngcontent-%COMP%]{flex-direction:column}html.default[_ngcontent-%COMP%]   .fdr[_ngcontent-%COMP%]{flex-direction:row}html.default[_ngcontent-%COMP%]   .fauto[_ngcontent-%COMP%]{flex:auto}html.default[_ngcontent-%COMP%]   .pf[_ngcontent-%COMP%]{position:fixed}html.default[_ngcontent-%COMP%]   .pr[_ngcontent-%COMP%]{position:relative}html.default[_ngcontent-%COMP%]   .pa[_ngcontent-%COMP%]{position:absolute}html.default[_ngcontent-%COMP%]   .fl[_ngcontent-%COMP%]{float:left}html.default[_ngcontent-%COMP%]   .fr[_ngcontent-%COMP%]{float:right}html.default[_ngcontent-%COMP%]   .clear-f[_ngcontent-%COMP%]{clear:both}html.default[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-table-pagination.ant-pagination[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .ant-pagination[_ngcontent-%COMP%]{text-align:right}html.default[_ngcontent-%COMP%]   .ant-table-column-sorter[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger[_ngcontent-%COMP%]{color:#a1a1a1}html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger.active[_ngcontent-%COMP%]{color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-sort[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-has-sorters[_ngcontent-%COMP%]:hover{background:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-tree-switcher[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-tree-indent-unit[_ngcontent-%COMP%]{width:17px;color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tree[_ngcontent-%COMP%]   .ant-tree-node-content-wrapper[_ngcontent-%COMP%]{padding:0}html.default[_ngcontent-%COMP%]   .ant-tree-checkbox-inner[_ngcontent-%COMP%]{display:inline-block}html.default[_ngcontent-%COMP%]   .ant-select-tree[_ngcontent-%COMP%]   .ant-select-tree-node-content-wrapper.ant-select-tree-node-selected[_ngcontent-%COMP%]:hover{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-modal-title[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-item-selected[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-submenu-title-selected[_ngcontent-%COMP%]{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]{background-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]:after{border-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tooltip[_ngcontent-%COMP%]{max-width:550px;max-height:550px;overflow:hidden}html.default[_ngcontent-%COMP%]   .ant-tooltip-content[_ngcontent-%COMP%]{width:100%;height:100%;max-width:550px;max-height:542px}html.default[_ngcontent-%COMP%]   .ant-tooltip-inner[_ngcontent-%COMP%]{box-shadow:none}html.default   [_nghost-%COMP%]   .result-box[_ngcontent-%COMP%]{width:100%;height:100%}html.default   [_nghost-%COMP%]   .result-box[_ngcontent-%COMP%]   .sub-task-list[_ngcontent-%COMP%]{position:absolute;left:50%;top:3px;transform:translate(-50%)}html.default   [_nghost-%COMP%]   .result-box[_ngcontent-%COMP%]   .ic-return[_ngcontent-%COMP%]{right:15px;top:-9px}html.default   [_nghost-%COMP%]   .result-box[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px}html.default   [_nghost-%COMP%]   .result-box[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.ic-eye[_ngcontent-%COMP%]{margin-right:12px}html.default   [_nghost-%COMP%]   .tab-content[_ngcontent-%COMP%]{width:100%;height:calc(100% - 25px);padding:15px;background-color:#fbffff;overflow:auto}html.default   [_nghost-%COMP%]   .tree-box[_ngcontent-%COMP%]{width:15%;height:100%;overflow:hidden;background-color:#f7fdfd}html.default   [_nghost-%COMP%]   .tree-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;height:23px;line-height:23px;padding-left:13px;background-color:#c8dde0;white-space:nowrap;border-top:1px solid #dbe9ea;color:#396669}html.default   [_nghost-%COMP%]   .tree-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:8px;overflow-y:auto;height:calc(100% - 23px);border:solid 1px #dbe9ea;border-top:none}html.default   [_nghost-%COMP%]   .tree-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .sz-search{margin-bottom:5px}html.default   [_nghost-%COMP%]   .tree-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .li-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:2px 11px;cursor:pointer}html.default   [_nghost-%COMP%]   .tree-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .li-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px;background:url(suanzi.552f9ab3f834d2b1.png) no-repeat 100%/100%;margin-right:5px}html.default   [_nghost-%COMP%]   .tree-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .li-item.selected[_ngcontent-%COMP%], html.default   [_nghost-%COMP%]   .tree-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .li-item[_ngcontent-%COMP%]:hover{color:#2a8b92;background-color:#e2eeee}html.default   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]{width:85%;height:100%;padding-left:15px}html.default   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]   .data-size[_ngcontent-%COMP%]   .ant-input-number-input[_ngcontent-%COMP%]{height:25px}html.default   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]   .tab-content-data[_ngcontent-%COMP%]{height:calc(100% - 32px);padding:15px 0 0}html.default   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]   .tab-content-data[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}html.default   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]   .tab-content-data[_ngcontent-%COMP%]   .blank[_ngcontent-%COMP%]{margin:0;height:1px}html.default   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]   .tab-content-data[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%], html.default   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]   .tab-content-data[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;max-width:800px}html.default   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]     .sz-tab-header{padding:0 0 8px;background-color:#fbffff;border-bottom:solid 1px #dbe9ea}html.default   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]     .sz-tab-header-item.active{position:relative}html.default   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]     .sz-tab-header-item.active:after{content:"";position:absolute;width:100%;height:2px;background-color:#2a8b92;left:0;bottom:-9px}html.default   [_nghost-%COMP%]   .ioAction-box[_ngcontent-%COMP%]{width:100%;height:100%}html.default   [_nghost-%COMP%]   .model-box[_ngcontent-%COMP%]{width:70%;height:100%;border:solid 1px #dbe9ea;overflow:auto}html.default   [_nghost-%COMP%]   .model-box[_ngcontent-%COMP%]     .ic-fabu{position:relative;top:-1px;font-size:19px}html.default   [_nghost-%COMP%]   .model-detail[_ngcontent-%COMP%]{width:calc(30% - 15px);height:100%}html.default   [_nghost-%COMP%]   .ioAction-data[_ngcontent-%COMP%]{left:0;top:0;width:100%;height:100%;background-color:#fbffff;z-index:2}html.dark   [_nghost-%COMP%]   .result-box[_ngcontent-%COMP%]{width:100%;height:100%}html.dark   [_nghost-%COMP%]   .result-box[_ngcontent-%COMP%]   .sub-task-list[_ngcontent-%COMP%]{position:absolute;left:50%;top:3px;transform:translate(-50%)}html.dark   [_nghost-%COMP%]   .result-box[_ngcontent-%COMP%]   .ic-return[_ngcontent-%COMP%]{right:15px;top:-9px}html.dark   [_nghost-%COMP%]   .result-box[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px}html.dark   [_nghost-%COMP%]   .result-box[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.ic-eye[_ngcontent-%COMP%]{margin-right:12px}html.dark   [_nghost-%COMP%]   .tab-content[_ngcontent-%COMP%]{width:100%;height:calc(100% - 25px);padding:15px;background-color:#fbfcff;overflow:auto}html.dark   [_nghost-%COMP%]   .tree-box[_ngcontent-%COMP%]{width:15%;height:100%;overflow:hidden;background-color:#f4f7fc}html.dark   [_nghost-%COMP%]   .tree-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;height:23px;line-height:23px;padding-left:13px;background-color:#e6edf7;white-space:nowrap;border-top:1px solid #dbe9ea;color:#394f69}html.dark   [_nghost-%COMP%]   .tree-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:8px;overflow-y:auto;height:calc(100% - 23px);border:solid 1px #dbe9ea;border-top:none}html.dark   [_nghost-%COMP%]   .tree-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .sz-search{margin-bottom:5px}html.dark   [_nghost-%COMP%]   .tree-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .li-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:2px 11px;cursor:pointer}html.dark   [_nghost-%COMP%]   .tree-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .li-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px;background:url(suanzi.552f9ab3f834d2b1.png) no-repeat 100%/100%;margin-right:5px}html.dark   [_nghost-%COMP%]   .tree-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .li-item.selected[_ngcontent-%COMP%], html.dark   [_nghost-%COMP%]   .tree-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .li-item[_ngcontent-%COMP%]:hover{color:#275184;background-color:#e6edf7}html.dark   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]{width:85%;height:100%;padding-left:15px}html.dark   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]   .data-size[_ngcontent-%COMP%]   .ant-input-number-input[_ngcontent-%COMP%]{height:25px}html.dark   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]   .tab-content-data[_ngcontent-%COMP%]{height:calc(100% - 32px);padding:15px 0 0}html.dark   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]   .tab-content-data[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}html.dark   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]   .tab-content-data[_ngcontent-%COMP%]   .blank[_ngcontent-%COMP%]{margin:0;height:1px}html.dark   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]   .tab-content-data[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%], html.dark   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]   .tab-content-data[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;max-width:800px}html.dark   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]     .sz-tab-header{padding:0 0 8px;background-color:#fbfcff;border-bottom:solid 1px #dbe9ea}html.dark   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]     .sz-tab-header-item.active{position:relative}html.dark   [_nghost-%COMP%]   .data-box[_ngcontent-%COMP%]     .sz-tab-header-item.active:after{content:"";position:absolute;width:100%;height:2px;background-color:#275184;left:0;bottom:-9px}html.dark   [_nghost-%COMP%]   .ioAction-box[_ngcontent-%COMP%]{width:100%;height:100%}html.dark   [_nghost-%COMP%]   .model-box[_ngcontent-%COMP%]{width:70%;height:100%;border:solid 1px #dbe9ea;overflow:auto}html.dark   [_nghost-%COMP%]   .model-box[_ngcontent-%COMP%]     .ic-fabu{position:relative;top:-1px;font-size:19px}html.dark   [_nghost-%COMP%]   .model-detail[_ngcontent-%COMP%]{width:calc(30% - 15px);height:100%}html.dark   [_nghost-%COMP%]   .ioAction-data[_ngcontent-%COMP%]{left:0;top:0;width:100%;height:100%;background-color:#fbfcff;z-index:2}'],data:{animation:[t.MC]}}),g})()},85081:(N,y,d)=>{d.d(y,{P:()=>Mt});var a=d(82886),t=d(5e3),b=d(50489),n=d(5156),O=d(69808),C=d(50939),k=d(44987),M=d(93075);const D=["blank"];function _(r,u){if(1&r&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&r){const e=u.$implicit;t.xp6(1),t.Oqu(e.columnName)}}function x(r,u){if(1&r&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&r){const e=u.$implicit;t.xp6(1),t.Oqu(e)}}function z(r,u){if(1&r&&(t.TgZ(0,"tr"),t.YNc(1,x,2,1,"td",8),t.qZA()),2&r){const e=u.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}function I(r,u){if(1&r&&(t.TgZ(0,"div",4)(1,"div",5)(2,"nz-table",6,7)(4,"thead")(5,"tr"),t.YNc(6,_,2,1,"th",8),t.qZA()(),t.TgZ(7,"tbody"),t.YNc(8,z,2,1,"tr",8),t.qZA()(),t._UZ(9,"p",9,10),t.qZA()()),2&r){const e=t.MAs(3),i=t.oxw();t.xp6(2),t.Q6J("nzData",i.data)("nzFrontPagination",!1),t.xp6(4),t.Q6J("ngForOf",i.columns),t.xp6(2),t.Q6J("ngForOf",e.data)}}const U=function(){return{mode:"text/xml",readOnly:!0}};function L(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",4)(1,"dy-codemirror",11),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().data=s}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.data)("options",t.DdM(2,U))}}let S=(()=>{class r{constructor(e){this.api=e,this.close=new t.vpe,this.dataType="json",this.dataSize=100,this.pageNumber=1,this.pageSize=100,this.loading=!0}ngOnInit(){this.getResData()}ngAfterViewInit(){new IntersectionObserver(i=>{if(i[0].isIntersecting){if(this.loading)return;this.pageNumber++,this.getResData()}}).observe(this.blank.nativeElement)}getResData(){this.loading=!0,this.formatable?this.api.getIoActionFormatedData(this.ioAction.id,this.pageNumber,this.pageSize).subscribe(e=>{this.loading=!1,this.parseData(e)}):this.api.getIoActionData(this.ioAction.id,this.dataSize).subscribe(e=>{this.loading=!1,this.parseData(e)})}parseData(e){if(this.dataType=e.dataType,"json"===this.dataType){let i=JSON.parse(e.result);this.columns=i.columnSetMetadata.columns,this.data=this.data?this.data.concat(i.data):i.data}else this.data=e.result}goBack(){this.close.emit()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(b.k5))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-io-data"]],viewQuery:function(e,i){if(1&e&&t.Gf(D,5),2&e){let s;t.iGM(s=t.CRH())&&(i.blank=s.first)}},inputs:{ioAction:"ioAction",formatable:"formatable"},outputs:{close:"close"},decls:6,vars:2,consts:[[1,"bread-crumb"],["sz-icon","","type","return",3,"click"],["class","box",4,"ngIf","ngIfElse"],["textData",""],[1,"box"],[1,"table-box"],[3,"nzData","nzFrontPagination"],["ioDataTable",""],[4,"ngFor","ngForOf"],[1,"blank"],["blank",""],[3,"ngModel","options","ngModelChange"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"span"),t.TgZ(2,"i",1),t.NdJ("click",function(){return i.goBack()}),t.qZA()(),t.YNc(3,I,11,4,"div",2),t.YNc(4,L,2,3,"ng-template",null,3,t.W1O)),2&e){const s=t.MAs(5);t.xp6(3),t.Q6J("ngIf","json"===i.dataType)("ngIfElse",s)}},directives:[n.D6,O.O5,C.N8,C.Om,C.$Z,O.sg,C.Uo,C._C,C.p0,k.vf,M.JJ,M.On],styles:["[_nghost-%COMP%]{height:100%}[_nghost-%COMP%]   .box[_ngcontent-%COMP%]{padding-top:5px;width:100%;height:calc(100% - 25px)}[_nghost-%COMP%]   .box[_ngcontent-%COMP%]   .data-size[_ngcontent-%COMP%]{margin-bottom:5px}[_nghost-%COMP%]   .box[_ngcontent-%COMP%]   .table-box[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}[_nghost-%COMP%]   .box[_ngcontent-%COMP%]     .ant-input-number-input{height:22px;padding:0 7px}[_nghost-%COMP%]   .box[_ngcontent-%COMP%]   .blank[_ngcontent-%COMP%]{margin:0;height:1px}"]}),r})();var Q=d(74736),J=d(57781),q=d(404);function G(r,u){if(1&r&&(t.TgZ(0,"th",4),t._uU(1),t.qZA()),2&r){const e=u.$implicit;t.Q6J("nzLeft",e.nzLeft||!1),t.xp6(1),t.Oqu(e.i18n)}}const T=function(r,u){return{backgroundColor:r,color:u}};function Y(r,u){if(1&r&&(t.TgZ(0,"tr")(1,"td",5),t._uU(2),t.qZA(),t.TgZ(3,"td",6)(4,"div",7),t._uU(5),t.qZA()(),t.TgZ(6,"td",6)(7,"div",7),t._uU(8),t.qZA()(),t.TgZ(9,"td",6)(10,"div",7),t._uU(11),t.qZA()(),t.TgZ(12,"td",6)(13,"div",7),t._uU(14),t.qZA()(),t.TgZ(15,"td",6)(16,"div",7),t._uU(17),t.qZA()(),t.TgZ(18,"td",6)(19,"div",7),t._uU(20),t.qZA()(),t.TgZ(21,"td",6)(22,"div",7),t._uU(23),t._UZ(24,"i",8),t.qZA()(),t.TgZ(25,"td",6)(26,"div",7),t._uU(27),t._UZ(28,"i",8),t.qZA()(),t.TgZ(29,"td",6)(30,"div",7),t._uU(31),t.qZA()(),t.TgZ(32,"td",6)(33,"div",7),t._uU(34),t.qZA()(),t.TgZ(35,"td",6)(36,"div",7),t._uU(37),t._UZ(38,"i",8),t.qZA()(),t.TgZ(39,"td",6)(40,"div",7),t._uU(41),t.qZA()(),t.TgZ(42,"td",6)(43,"div",7),t._uU(44),t.qZA()(),t.TgZ(45,"td",6)(46,"div",7),t._uU(47),t.qZA()(),t.TgZ(48,"td",6)(49,"div",7),t._uU(50),t.qZA()()()),2&r){const e=u.$implicit;t.xp6(2),t.hij(" ",e.columnName," "),t.xp6(2),t.Q6J("ngStyle",t.WLB(34,T,null==e.columnType?null:e.columnType.bgColor,null==e.columnType?null:e.columnType.txtColor)),t.xp6(1),t.Oqu(null==e.columnType?null:e.columnType.name),t.xp6(2),t.Q6J("ngStyle",t.WLB(37,T,null==e.valueCount?null:e.valueCount.bgColor,null==e.valueCount?null:e.valueCount.txtColor)),t.xp6(1),t.Oqu(null==e.valueCount?null:e.valueCount.value),t.xp6(2),t.Q6J("ngStyle",t.WLB(40,T,null==e.missingValueCount?null:e.missingValueCount.bgColor,null==e.missingValueCount?null:e.missingValueCount.txtColor)),t.xp6(1),t.Oqu(null==e.missingValueCount?null:e.missingValueCount.value),t.xp6(2),t.Q6J("ngStyle",t.WLB(43,T,null==e.missingValueRatio?null:e.missingValueRatio.bgColor,null==e.missingValueRatio?null:e.missingValueRatio.txtColor)),t.xp6(1),t.Oqu(null==e.missingValueRatio?null:e.missingValueRatio.value),t.xp6(2),t.Q6J("ngStyle",t.WLB(46,T,null==e.distinctValueCount?null:e.distinctValueCount.bgColor,null==e.distinctValueCount?null:e.distinctValueCount.txtColor)),t.xp6(1),t.Oqu(null==e.distinctValueCount?null:e.distinctValueCount.value),t.xp6(2),t.Q6J("ngStyle",t.WLB(49,T,null==e.distinctValues?null:e.distinctValues.bgColor,null==e.distinctValues?null:e.distinctValues.txtColor)),t.xp6(1),t.Oqu(null==e.distinctValues?null:e.distinctValues.value),t.xp6(2),t.Q6J("ngStyle",t.WLB(52,T,null==e.max?null:e.max.bgColor,null==e.max?null:e.max.txtColor)),t.xp6(1),t.hij(" ",null==e.max?null:e.max.value," "),t.xp6(1),t.Q6J("nz-tooltip","\u51fa\u73b0\u6b21\u6570\uff1a"+(null==e.max?null:e.max.count)),t.xp6(2),t.Q6J("ngStyle",t.WLB(55,T,null==e.min?null:e.min.bgColor,null==e.min?null:e.min.txtColor)),t.xp6(1),t.hij(" ",null==e.min?null:e.min.value," "),t.xp6(1),t.Q6J("nz-tooltip","\u51fa\u73b0\u6b21\u6570\uff1a"+(null==e.min?null:e.min.count)),t.xp6(2),t.Q6J("ngStyle",t.WLB(58,T,null==e.mean?null:e.mean.bgColor,null==e.mean?null:e.mean.txtColor)),t.xp6(1),t.Oqu(null==e.mean?null:e.mean.value),t.xp6(2),t.Q6J("ngStyle",t.WLB(61,T,null==e.median?null:e.median.bgColor,null==e.median?null:e.median.txtColor)),t.xp6(1),t.Oqu(null==e.median?null:e.median.value),t.xp6(2),t.Q6J("ngStyle",t.WLB(64,T,null==e.mode?null:e.mode.bgColor,null==e.mode?null:e.mode.txtColor)),t.xp6(1),t.hij(" ",null==e.mode?null:e.mode.value," "),t.xp6(1),t.Q6J("nz-tooltip","\u51fa\u73b0\u6b21\u6570\uff1a"+(null==e.mode?null:e.mode.count)),t.xp6(2),t.Q6J("ngStyle",t.WLB(67,T,null==e.variance?null:e.variance.bgColor,null==e.variance?null:e.variance.txtColor)),t.xp6(1),t.Oqu(null==e.variance?null:e.variance.value),t.xp6(2),t.Q6J("ngStyle",t.WLB(70,T,null==e.standardDeviation?null:e.standardDeviation.bgColor,null==e.standardDeviation?null:e.standardDeviation.txtColor)),t.xp6(1),t.Oqu(null==e.standardDeviation?null:e.standardDeviation.value),t.xp6(2),t.Q6J("ngStyle",t.WLB(73,T,null==e.kurtosis?null:e.kurtosis.bgColor,null==e.kurtosis?null:e.kurtosis.txtColor)),t.xp6(1),t.Oqu(null==e.kurtosis?null:e.kurtosis.value),t.xp6(2),t.Q6J("ngStyle",t.WLB(76,T,null==e.skewness?null:e.skewness.bgColor,null==e.skewness?null:e.skewness.txtColor)),t.xp6(1),t.Oqu(null==e.skewness?null:e.skewness.value)}}const E={Null:{bgColor:"#f5f0f4",txtColor:"#915d7d"},String:{bgColor:"#f5f0f6",txtColor:"#8f6396"},Integer:{bgColor:"#f3f1f6",txtColor:"#7b6597"},Long:{bgColor:"#f2f1f7",txtColor:"#6c6aa2"},Datetime:{bgColor:"#f2f3f7",txtColor:"#65748e"},Float:{bgColor:"#eef3f6",txtColor:"#42657d"},Double:{bgColor:"#eff4f7",txtColor:"#567c98"},Boolean:{bgColor:"#f0f4f3",txtColor:"#53848f"},Binary:{bgColor:"#f0f5ef",txtColor:"#5b8b73"},Enum:{bgColor:"#f3f4ee",txtColor:"#5c8b5b"},Array:{bgColor:"#f4f3ee",txtColor:"#6b7f4a"},Map:{bgColor:"#f7f3f0",txtColor:"#76783f"},Struct:{bgColor:"#f6f2ef",txtColor:"#a28a61"},Object:{bgColor:"#eef4f2",txtColor:"#946b54"}};let j=(()=>{class r{constructor(e){this.api=e,this.columns=[{i18n:"\u5217\u540d\u79f0",field:"columnName",nzLeft:!0},{i18n:"\u5217\u7c7b\u578b",field:"columnType"},{i18n:"\u503c\u4e2a\u6570",field:"valueCount",bgColor:"#8a8bb9",txtColor:"#625f93",needGetColor:!0},{i18n:"\u7f3a\u5931\u503c\u4e2a\u6570",field:"missingValueCount",bgColor:"#8a8d3c",txtColor:"#656726",needGetColor:!0},{i18n:"\u7f3a\u5931\u503c\u6bd4\u4f8b",field:"missingValueRatio",bgColor:"#92ab69",txtColor:"#61773e",needGetColor:!0},{i18n:"\u552f\u4e00\u503c\u4e2a\u6570",field:"distinctValueCount",bgColor:"#78b7ae",txtColor:"#498075",needGetColor:!0},{i18n:"\u552f\u4e00\u503c\u5217\u8868",field:"distinctValues",bgColor:"#edf3f1",txtColor:"#5a9174"},{i18n:"\u6700\u5927\u503c | \u6700\u591a",field:"max",bgColor:"#b78465",txtColor:"#935a38",needGetColor:!0},{i18n:"\u6700\u5c0f\u503c | \u6700\u5c11",field:"min",bgColor:"#7675b1",txtColor:"#58558e",needGetColor:!0},{i18n:"\u5747\u503c",field:"mean",bgColor:"#4f7c9b",txtColor:"#487395",needGetColor:!0},{i18n:"\u4e2d\u4f4d\u6570",field:"median",bgColor:"#4f7c9b",txtColor:"#487395",needGetColor:!0},{i18n:"\u4f17\u6570",field:"mode",bgColor:"#b3966c",txtColor:"#9f8559",needGetColor:!0},{i18n:"\u65b9\u5dee",field:"variance",bgColor:"#b3966c",txtColor:"#9f8559",needGetColor:!0},{i18n:"\u6807\u51c6\u5dee",field:"standardDeviation",bgColor:"#75a3c4",txtColor:"#4e799b",needGetColor:!0},{i18n:"\u5cf0\u5ea6",field:"kurtosis",bgColor:"#6faab8",txtColor:"#497d8b",needGetColor:!0},{i18n:"\u504f\u5ea6",field:"skewness",bgColor:"#6faab8",txtColor:"#497d8b",needGetColor:!0}]}ngOnInit(){}ngOnChanges(e){if(e.resPort&&e.resPort.currentValue||e.taskId&&e.taskId.currentValue){if(!this.taskId||!this.resPort)return;this.api.getResPortStat(this.taskId,this.resPort).subscribe(i=>{this.data=i,this.parseData()})}}parseData(){let e,i,s,h;const A=this.columns.filter(f=>f.needGetColor).map(f=>(f.maxValue=Number.MIN_VALUE,f.minValue=Number.MAX_VALUE,f));this.data.map(f=>{A.map(p=>{var R,lt;"max"===p.field||"min"===p.field||"mode"===p.field?(p.maxValue=Math.max(p.maxValue,null===(R=f[p.field])||void 0===R?void 0:R.value),p.minValue=Math.min(p.minValue,null===(lt=f[p.field])||void 0===lt?void 0:lt.value)):(p.maxValue=Math.max(p.maxValue,f[p.field]),p.minValue=Math.min(p.minValue,f[p.field]))})}),this.data.map(f=>{e=E[f.columnType.name]||E.Null,f.columnType=Object.assign(Object.assign({},f.columnType),{bgColor:e.bgColor,txtColor:e.txtColor}),A.map(p=>{var R;"max"===p.field||"min"===p.field||"mode"===p.field?(i=p.maxValue===p.minValue?1:.05+((null===(R=f[p.field])||void 0===R?void 0:R.value)-p.minValue)/(p.maxValue-p.minValue)*.95,s=(0,J.PS)(p.bgColor,i),h=1===i?"#fff":p.txtColor,f[p.field]=Object.assign(Object.assign({},f[p.field]),{bgColor:s,txtColor:h})):(i=p.maxValue===p.minValue?1:.05+(f[p.field]-p.minValue)/(p.maxValue-p.minValue)*.95,s=(0,J.PS)(p.bgColor,i),h=1===i?"#fff":p.txtColor,f[p.field]={value:f[p.field],bgColor:s,txtColor:h})})})}testData(){const e=Object.keys(E);this.data=[];for(let i=0;i<20;i++){let s={};s.columnName=`column${i}`,s.columnType={name:e[Math.floor(Math.random()*e.length)]},s.valueCount=Math.floor(1e3*Math.random()),s.missingValueCount=Math.floor(10*Math.random()),s.missingValueRatio=Math.random().toFixed(2),s.distinctValueCount=Math.floor(10*Math.random()),s.distinctValues=[],s.max={value:Math.floor(100+400*Math.random()),count:Math.floor(10*Math.random())},s.min={value:Math.floor(100*Math.random()),count:Math.floor(10*Math.random())},s.mean=Math.floor(50*Math.random()),s.variance=Math.random().toFixed(2),s.standardDeviation=Math.random().toFixed(2),s.skewness=Math.random().toFixed(2),this.data.push(s)}}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(b.k5))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-stat-data"]],inputs:{taskId:"taskId",resPort:"resPort"},features:[t.TTD],decls:7,vars:4,consts:[["nzBordered","",3,"nzData","nzFrontPagination"],["basicTable",""],["nzAlign","center",3,"nzLeft",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["nzAlign","center",3,"nzLeft"],["nzAlign","center","nzLeft",""],["nzAlign","center"],[1,"cell",3,"ngStyle"],["sz-icon","","type","tishi",3,"nz-tooltip"]],template:function(e,i){if(1&e&&(t.TgZ(0,"nz-table",0,1)(2,"thead")(3,"tr"),t.YNc(4,G,2,2,"th",2),t.qZA()(),t.TgZ(5,"tbody"),t.YNc(6,Y,51,79,"tr",3),t.qZA()()),2&e){const s=t.MAs(1);t.Q6J("nzData",i.data)("nzFrontPagination",!1),t.xp6(4),t.Q6J("ngForOf",i.columns),t.xp6(2),t.Q6J("ngForOf",s.data)}},directives:[C.N8,C.Om,C.$Z,O.sg,C.Uo,C._C,C.UX,C.qn,C.p0,O.PC,n.D6,q.SY],styles:["html.default[_ngcontent-%COMP%]   html[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{min-width:1366px}html.default[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}html.default[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;flex:auto;flex-direction:column}html.default[_ngcontent-%COMP%]   .fdc[_ngcontent-%COMP%]{flex-direction:column}html.default[_ngcontent-%COMP%]   .fdr[_ngcontent-%COMP%]{flex-direction:row}html.default[_ngcontent-%COMP%]   .fauto[_ngcontent-%COMP%]{flex:auto}html.default[_ngcontent-%COMP%]   .pf[_ngcontent-%COMP%]{position:fixed}html.default[_ngcontent-%COMP%]   .pr[_ngcontent-%COMP%]{position:relative}html.default[_ngcontent-%COMP%]   .pa[_ngcontent-%COMP%]{position:absolute}html.default[_ngcontent-%COMP%]   .fl[_ngcontent-%COMP%]{float:left}html.default[_ngcontent-%COMP%]   .fr[_ngcontent-%COMP%]{float:right}html.default[_ngcontent-%COMP%]   .clear-f[_ngcontent-%COMP%]{clear:both}html.default[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-table-pagination.ant-pagination[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .ant-pagination[_ngcontent-%COMP%]{text-align:right}html.default[_ngcontent-%COMP%]   .ant-table-column-sorter[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger[_ngcontent-%COMP%]{color:#a1a1a1}html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger.active[_ngcontent-%COMP%]{color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-sort[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-has-sorters[_ngcontent-%COMP%]:hover{background:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-tree-switcher[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-tree-indent-unit[_ngcontent-%COMP%]{width:17px;color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tree[_ngcontent-%COMP%]   .ant-tree-node-content-wrapper[_ngcontent-%COMP%]{padding:0}html.default[_ngcontent-%COMP%]   .ant-tree-checkbox-inner[_ngcontent-%COMP%]{display:inline-block}html.default[_ngcontent-%COMP%]   .ant-select-tree[_ngcontent-%COMP%]   .ant-select-tree-node-content-wrapper.ant-select-tree-node-selected[_ngcontent-%COMP%]:hover{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-modal-title[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-item-selected[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-submenu-title-selected[_ngcontent-%COMP%]{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]{background-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]:after{border-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tooltip[_ngcontent-%COMP%]{max-width:550px;max-height:550px;overflow:hidden}html.default[_ngcontent-%COMP%]   .ant-tooltip-content[_ngcontent-%COMP%]{width:100%;height:100%;max-width:550px;max-height:542px}html.default[_ngcontent-%COMP%]   .ant-tooltip-inner[_ngcontent-%COMP%]{box-shadow:none}html.default   [_nghost-%COMP%]{width:100%;height:100%}html.default   [_nghost-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:100%}html.default   [_nghost-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap}html.default   [_nghost-%COMP%]   td[_ngcontent-%COMP%]{padding:5px}html.default   [_nghost-%COMP%]   td.ant-table-cell-fix-left[_ngcontent-%COMP%]{background-color:#fbffff}html.default   [_nghost-%COMP%]   .cell[_ngcontent-%COMP%]{padding:3px 5px;text-align:center;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;max-width:255px!important}html.dark   [_nghost-%COMP%]{width:100%;height:100%}html.dark   [_nghost-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:100%}html.dark   [_nghost-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap}html.dark   [_nghost-%COMP%]   td[_ngcontent-%COMP%]{padding:5px}html.dark   [_nghost-%COMP%]   td.ant-table-cell-fix-left[_ngcontent-%COMP%]{background-color:#fbfcff}html.dark   [_nghost-%COMP%]   .cell[_ngcontent-%COMP%]{padding:3px 5px;text-align:center;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;max-width:255px!important}"]}),r})();var H=d(28076),B=d(19345),W=d(91139),$=d(65324),V=d(74543);const K=["chartBox"];let X=(()=>{class r{constructor(e){this.cdr=e,this.resizeAnimationTime=400,this.chartInit=new t.vpe}ngOnInit(){window.addEventListener("resize",()=>{this.chartInstance&&this.chartInstance.resize()})}ngOnChanges(e){this.chartBox&&(this.chartInstance&&this.chartInstance.dispose(),this.chartBox.clear(),this.ngAfterViewInit())}ngAfterViewInit(){if(!this.name||!V.O[this.name])return;let e=this.chartBox.createComponent(V.O[this.name].cpt).instance;e.resizeAnimationTime=this.resizeAnimationTime,this.chartInstance=e,this.chartInit.emit(this.chartInstance),this.cdr.detectChanges()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["chart-factory"]],viewQuery:function(e,i){if(1&e&&t.Gf(K,5,t.s_b),2&e){let s;t.iGM(s=t.CRH())&&(i.chartBox=s.first)}},hostAttrs:[1,"chart-factory"],inputs:{name:"name",resizeAnimationTime:"resizeAnimationTime"},outputs:{chartInit:"chartInit"},features:[t.TTD],decls:2,vars:0,consts:[["chartBox",""]],template:function(e,i){1&e&&t.GkF(0,null,0)},styles:[".chart-box[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}"]}),r})();var tt=d(15213);function nt(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){const h=t.CHM(e).$implicit;return t.oxw(2).selectedChart=h}),t.TgZ(1,"div",14),t._UZ(2,"div",15),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA()()}if(2&r){const e=u.$implicit;t.xp6(2),t.Q6J("path","./assets/img/chart/"+e.icon),t.xp6(2),t.Oqu(e.alias)}}function et(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",11),t.NdJ("mouseenter",function(){return t.CHM(e),t.oxw().mouseenterHandler()})("mouseleave",function(){return t.CHM(e),t.oxw().mouseleaveHandler()}),t.YNc(1,nt,5,2,"div",12),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("@fadeMotion",void 0),t.xp6(1),t.Q6J("ngForOf",e.charts)}}function ot(r,u){1&r&&t._UZ(0,"compox-factory",16),2&r&&t.Q6J("parameter",u.$implicit)}let g=(()=>{class r{constructor(e,i){this.api=e,this.notiry=i,this.subscriptionArr=[],this.charts=Object.values(B.O3),this.chartsVisible=!1,this.cacheSelectedColumn={}}ngOnInit(){this.selectedChart=this.charts[0]}ngOnChanges(e){if(e.resPort&&e.resPort.currentValue||e.taskId&&e.taskId.currentValue){if(!this.taskId||!this.resPort)return;this.api.getResPortDataDim(this.taskId,this.resPort).subscribe(i=>{this.columns=i,this.merge(),this.getData()})}}chartInit(e){this.chartInstance=e;const i=W.n.parseParameters(this.chartInstance.parameters,"result_datavis");this.dataOpts=i.sightxTabs.find(s=>"data"===s.name).parameters,this.ngOnDestroy(),this.dataOpts.map(s=>{this.subscriptionArr.push(this.notiry.get(`result_datavis_${s.name}_vchange`).subscribe(h=>{this.cacheSelectedColumn[h.name]=h.value,this.setData2Chart()}))}),this.merge(),this.chartInstance.setParameter(i),this.data?this.chartInstance.setData(this.data):this.chartInstance.showDefaultData()}merge(){!this.dataOpts||!this.columns||(this.dataOpts.filter(e=>"dim"===e.dataFeildType).map(e=>{var i;const s=[];this.columns.dims&&this.columns.dims.length&&s.push({label:"\u63a8\u8350\u5b57\u6bb5",children:this.columns.dims.map(h=>(h.label=h.value=h.name,h))}),this.columns.indefiniteDims&&this.columns.indefiniteDims.length&&s.push({label:"\u5176\u4ed6\u5b57\u6bb5",children:this.columns.indefiniteDims.map(h=>(h.label=h.value=h.name,h))}),e.dataProvider=s,e.value=this.cacheSelectedColumn[e.name]||(null===(i=s[0])||void 0===i?void 0:i.children[0].label)}),this.dataOpts.filter(e=>"measure"===e.dataFeildType).map(e=>{var i;const s=[];this.columns.measureColumns&&this.columns.measureColumns.length&&s.push({label:"\u63a8\u8350\u5b57\u6bb5",children:this.columns.measureColumns.map(h=>(h.label=h.value=h.name,h))}),this.columns.indefiniteMeasures&&this.columns.indefiniteMeasures.length&&s.push({label:"\u5176\u4ed6\u5b57\u6bb5",children:this.columns.indefiniteMeasures.map(h=>(h.label=h.value=h.name,h))}),e.dataProvider=s,e.value=this.cacheSelectedColumn[e.name]||(null===(i=s[0])||void 0===i?void 0:i.children[0].label)}))}getData(){this.api.getResPortData(this.taskId,this.resPort,1,100).subscribe(e=>{let i=e;"json"===i.dataType&&(i=JSON.parse(i.result)),this.data=[],i.data.map(s=>{let h={};i.columnSetMetadata.columns.map((A,f)=>{h[A.columnName]=s[f]}),this.data.push(h)}),this.setData2Chart()})}setData2Chart(){!this.dataOpts.every(e=>e.value)||this.data&&this.chartInstance.setData(this.data)}resize(){this.chartInstance&&this.chartInstance.resize()}mouseenterHandler(){clearTimeout(this.chartsTimer),this.chartsVisible=!0}mouseleaveHandler(){this.chartsTimer=setTimeout(()=>{this.chartsVisible=!1},500)}ngOnDestroy(){this.subscriptionArr.map(e=>{e.unsubscribe()}),this.subscriptionArr.length=0}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(b.k5),t.Y36($.tu))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-data-vis"]],inputs:{taskId:"taskId",resPort:"resPort"},features:[t.TTD],decls:12,vars:4,consts:[[1,"left-box","fl","pr"],[1,"factory-box"],[3,"name","resizeAnimationTime","chartInit"],[1,"charts-icon","pa",3,"mouseenter","mouseleave"],["sz-icon","","type","chart"],[1,"corner"],["class","charts-list pa",3,"mouseenter","mouseleave",4,"ngIf"],[1,"right-box","fr"],[1,"title"],[1,"content"],[3,"parameter",4,"ngFor","ngForOf"],[1,"charts-list","pa",3,"mouseenter","mouseleave"],["class","chart",3,"click",4,"ngFor","ngForOf"],[1,"chart",3,"click"],[1,"img"],["svg-icon","",3,"path"],[3,"parameter"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"chart-factory",2),t.NdJ("chartInit",function(h){return i.chartInit(h)}),t.qZA()(),t.TgZ(3,"div",3),t.NdJ("mouseenter",function(){return i.mouseenterHandler()})("mouseleave",function(){return i.mouseleaveHandler()}),t._UZ(4,"i",4)(5,"i",5),t.qZA(),t.YNc(6,et,2,2,"div",6),t.qZA(),t.TgZ(7,"div",7)(8,"div",8),t._uU(9,"\u6570\u636e\u5b57\u6bb5"),t.qZA(),t.TgZ(10,"div",9),t.YNc(11,ot,1,1,"compox-factory",10),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("name",null==i.selectedChart?null:i.selectedChart.name)("resizeAnimationTime",0),t.xp6(4),t.Q6J("ngIf",i.chartsVisible),t.xp6(5),t.Q6J("ngForOf",i.dataOpts))},directives:[X,n.D6,O.O5,O.sg,n.W2,tt._],styles:["html.default[_ngcontent-%COMP%]   html[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{min-width:1366px}html.default[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}html.default[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;flex:auto;flex-direction:column}html.default[_ngcontent-%COMP%]   .fdc[_ngcontent-%COMP%]{flex-direction:column}html.default[_ngcontent-%COMP%]   .fdr[_ngcontent-%COMP%]{flex-direction:row}html.default[_ngcontent-%COMP%]   .fauto[_ngcontent-%COMP%]{flex:auto}html.default[_ngcontent-%COMP%]   .pf[_ngcontent-%COMP%]{position:fixed}html.default[_ngcontent-%COMP%]   .pr[_ngcontent-%COMP%]{position:relative}html.default[_ngcontent-%COMP%]   .pa[_ngcontent-%COMP%]{position:absolute}html.default[_ngcontent-%COMP%]   .fl[_ngcontent-%COMP%]{float:left}html.default[_ngcontent-%COMP%]   .fr[_ngcontent-%COMP%]{float:right}html.default[_ngcontent-%COMP%]   .clear-f[_ngcontent-%COMP%]{clear:both}html.default[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-table-pagination.ant-pagination[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .ant-pagination[_ngcontent-%COMP%]{text-align:right}html.default[_ngcontent-%COMP%]   .ant-table-column-sorter[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger[_ngcontent-%COMP%]{color:#a1a1a1}html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger.active[_ngcontent-%COMP%]{color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-sort[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-has-sorters[_ngcontent-%COMP%]:hover{background:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-tree-switcher[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-tree-indent-unit[_ngcontent-%COMP%]{width:17px;color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tree[_ngcontent-%COMP%]   .ant-tree-node-content-wrapper[_ngcontent-%COMP%]{padding:0}html.default[_ngcontent-%COMP%]   .ant-tree-checkbox-inner[_ngcontent-%COMP%]{display:inline-block}html.default[_ngcontent-%COMP%]   .ant-select-tree[_ngcontent-%COMP%]   .ant-select-tree-node-content-wrapper.ant-select-tree-node-selected[_ngcontent-%COMP%]:hover{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-modal-title[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-item-selected[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-submenu-title-selected[_ngcontent-%COMP%]{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]{background-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]:after{border-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tooltip[_ngcontent-%COMP%]{max-width:550px;max-height:550px;overflow:hidden}html.default[_ngcontent-%COMP%]   .ant-tooltip-content[_ngcontent-%COMP%]{width:100%;height:100%;max-width:550px;max-height:542px}html.default[_ngcontent-%COMP%]   .ant-tooltip-inner[_ngcontent-%COMP%]{box-shadow:none}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]{width:calc(100% - 300px);height:100%;padding:125px 100px}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .factory-box[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#fff;padding:50px;border-radius:3px}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .charts-icon[_ngcontent-%COMP%]{width:40px;height:38px;background-color:#2a8b92;border-radius:3px;display:flex;justify-content:center;align-items:center;cursor:pointer;left:0;top:0}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .charts-icon[_ngcontent-%COMP%]   .ic-chart[_ngcontent-%COMP%]{color:#fff;font-size:26px}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .charts-icon[_ngcontent-%COMP%]   .corner[_ngcontent-%COMP%]{position:absolute;right:2px;bottom:2px;width:0;height:0;border-bottom:6px solid #c8dde0;border-left:6px solid transparent}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .charts-list[_ngcontent-%COMP%]{left:39px;top:30px;background-color:#e2eeee;border:solid 1px #2a8b92;border-radius:3px;padding:20px 10px 15px;display:flex;max-width:1022px;max-height:500px;overflow-y:auto;z-index:9}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .charts-list[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:0 10px;transition:all .3s;cursor:pointer}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .charts-list[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]:hover{color:#2a8b92}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .charts-list[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]:hover   .img[_ngcontent-%COMP%]{border-color:#2a8b92}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .charts-list[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:65px;height:65px;background-color:#fff;margin-bottom:3px;display:flex;justify-content:center;align-items:center;border:solid 1px rgba(0,0,0,0);transition:all .15s;border-radius:3px}html.default   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .charts-list[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:40px;height:40px}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]{width:300px;height:100%;border:solid 1px #dbe9ea;border-radius:3px;background-color:#f7fdfd}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;height:23px;line-height:23px;padding-left:13px;background-color:#c8dde0;white-space:nowrap;color:#396669}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:8px;height:calc(100% - 23px)}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .ic-tishi, html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .var-setting{display:none}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .compox-label{width:60px}html.default   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .compox-content{width:calc(100% - 60px)}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]{width:calc(100% - 300px);height:100%;padding:125px 100px}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .factory-box[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#fff;padding:50px;border-radius:3px}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .charts-icon[_ngcontent-%COMP%]{width:40px;height:38px;background-color:#275184;border-radius:3px;display:flex;justify-content:center;align-items:center;cursor:pointer;left:0;top:0}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .charts-icon[_ngcontent-%COMP%]   .ic-chart[_ngcontent-%COMP%]{color:#fff;font-size:26px}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .charts-icon[_ngcontent-%COMP%]   .corner[_ngcontent-%COMP%]{position:absolute;right:2px;bottom:2px;width:0;height:0;border-bottom:6px solid #e6edf7;border-left:6px solid transparent}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .charts-list[_ngcontent-%COMP%]{left:39px;top:30px;background-color:#e6edf7;border:solid 1px #275184;border-radius:3px;padding:20px 10px 15px;display:flex;max-width:1022px;max-height:500px;overflow-y:auto;z-index:9}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .charts-list[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:0 10px;transition:all .3s;cursor:pointer}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .charts-list[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]:hover{color:#275184}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .charts-list[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]:hover   .img[_ngcontent-%COMP%]{border-color:#275184}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .charts-list[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:65px;height:65px;background-color:#fff;margin-bottom:3px;display:flex;justify-content:center;align-items:center;border:solid 1px rgba(0,0,0,0);transition:all .15s;border-radius:3px}html.dark   [_nghost-%COMP%]   .left-box[_ngcontent-%COMP%]   .charts-list[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:40px;height:40px}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]{width:300px;height:100%;border:solid 1px #dbe9ea;border-radius:3px;background-color:#f4f7fc}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;height:23px;line-height:23px;padding-left:13px;background-color:#e6edf7;white-space:nowrap;color:#394f69}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:8px;height:calc(100% - 23px)}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .ic-tishi, html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .var-setting{display:none}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .compox-label{width:60px}html.dark   [_nghost-%COMP%]   .right-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .compox-content{width:calc(100% - 60px)}"],data:{animation:[H.MC]}}),r})();var P=d(79635),o=d(4128),l=d(46055),c=d(89445),m=d(71758);const v=["contentBox"];function Z(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"nz-breadcrumb-item")(1,"a",8),t.NdJ("click",function(){const s=t.CHM(e),h=s.$implicit,A=s.index;return t.oxw().goToDirectory(h,A)}),t._uU(2),t.qZA()()}if(2&r){const e=u.$implicit;t.xp6(2),t.Oqu(e.name)}}function w(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"p",11),t.NdJ("click",function(){const h=t.CHM(e).$implicit,A=t.oxw().index;return t.oxw().entryDirectory(h,A)}),t._UZ(1,"i",12),t.TgZ(2,"span",13),t._uU(3),t.qZA(),t.TgZ(4,"i",14),t.NdJ("click",function(s){const A=t.CHM(e).$implicit,f=t.oxw().index;return t.oxw().previewFileHandler(A,s,f)}),t.qZA()()}if(2&r){const e=u.$implicit,i=t.oxw().index,s=t.oxw();t.ekj("selected",e.path===s.selectedDir.path&&!s.selectedFile||e===s.selectedFile)("sub-selected",i+1<s.pathArr.length&&e.path===s.pathArr[i+1].path),t.xp6(1),t.Q6J("type",e.directory?"icon1":"icon2"),t.xp6(2),t.Oqu(e.name),t.xp6(1),t.Q6J("hover",!1)("type",e.directory?"right-arrow":"eye")}}function F(r,u){if(1&r&&(t.TgZ(0,"div",9),t.YNc(1,w,5,8,"p",10),t.qZA()),2&r){const e=u.$implicit;t.xp6(1),t.Q6J("ngForOf",e.children)}}function st(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",15)(1,"div",16)(2,"dy-file-preview",17),t.NdJ("onPreview",function(s){return t.CHM(e),t.oxw().getData(s)}),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"h3"),t._uU(6,"\u4fe1\u606f"),t.qZA(),t.TgZ(7,"p")(8,"span"),t._uU(9,"\u521b\u5efa\u65f6\u95f4"),t.qZA(),t.TgZ(10,"span"),t._uU(11,"created time"),t.qZA()(),t.TgZ(12,"p")(13,"span"),t._uU(14,"\u4fee\u6539\u65f6\u95f4"),t.qZA(),t.TgZ(15,"span"),t._uU(16,"lastModifiedTime time"),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(2),t.Q6J("fileName",(null==e.selectedFile?null:e.selectedFile.path.value)||(null==e.selectedFile?null:e.selectedFile.path))("charsetList",e.charsetList)("ngModel",e.fileContent),t.xp6(2),t.hij("",null==e.selectedFile?null:e.selectedFile.name," - size")}}function ct(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"div",18)(1,"dy-file-preview",19),t.NdJ("onPreview",function(s){return t.CHM(e),t.oxw().getData(s)})("onClose",function(){return t.CHM(e),t.oxw().previewFile=null}),t.qZA()()}if(2&r){const e=t.oxw();t.Q6J("@slideInMotion",void 0),t.xp6(1),t.Q6J("fileName",(null==e.previewFile?null:e.previewFile.path.value)||(null==e.previewFile?null:e.previewFile.path))("charsetList",e.charsetList)("ngModel",e.fileContent)}}let dt=(()=>{class r{constructor(e,i){this.api=e,this.i18n=i,this.params={path:"/",fileType:null},this.supportInfo="FileListDescriptor.listFiles",this.pathArr=[],this.variables=[]}get selectedDir(){return this.pathArr[this.pathArr.length-1]}ngOnInit(){this.charsetList=l.Ve.CharsetList,this.pathArr.push({name:this.i18n.translate("datasource.root"),path:"/",children:[]}),console.log(this.ioAction),(0,o.D)([this.api.getGraph(this.ioAction.processGraphId)]).subscribe({next:e=>{console.log(e)}})}goToDirectory(e,i){this.pathArr.length=i+1,this.selectedFile=null}entryDirectory(e,i){if(!e.directory)return this.pathArr.length=i+1,void(this.selectedFile=e);this.params.path=e.path,this.api.support({graph:this.graphXml,operatorId:this.ioAction.operatorId,params:JSON.stringify(this.params),supportInfo:this.supportInfo,variables:this.variables,processId:this.ioAction.processGraphId}).subscribe(s=>{this.pathArr.length=i+1,this.pathArr.push({name:e.name,path:e.path,children:s}),this.selectedFile=null,setTimeout(()=>{this.contentBox.nativeElement.scrollLeft=this.contentBox.nativeElement.scrollWidth})})}previewFileHandler(e,i,s){e.directory||(i.stopPropagation(),this.previewFile=e)}getData(e){const{name:i,size:s,charset:h,format:A}=e;this.api[`supportReadAs${A}`]({variables:this.variables},i,s,h).subscribe(f=>{this.fileContent=f})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(b.DQ),t.Y36(c.wi))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-dir-data"]],viewQuery:function(e,i){if(1&e&&t.Gf(v,5),2&e){let s;t.iGM(s=t.CRH())&&(i.contentBox=s.first)}},inputs:{ioAction:"ioAction"},decls:9,vars:4,consts:[[1,"container-box","pr"],[1,"path-box"],[4,"ngFor","ngForOf"],[1,"content-box"],["contentBox",""],["class","dir-box",4,"ngFor","ngForOf"],["class","quick-preview",4,"ngIf"],["class","file-preview pa",4,"ngIf"],[3,"click"],[1,"dir-box"],["class","pr",3,"selected","sub-selected","click",4,"ngFor","ngForOf"],[1,"pr",3,"click"],["sz-icon","",3,"type"],[1,"dir-name"],["sz-icon","",1,"pa",3,"hover","type","click"],[1,"quick-preview"],[1,"preview-box"],[3,"fileName","charsetList","ngModel","onPreview"],[1,"file-preview","pa"],[3,"fileName","charsetList","ngModel","onPreview","onClose"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nz-breadcrumb"),t.YNc(3,Z,3,1,"nz-breadcrumb-item",2),t.qZA()(),t.TgZ(4,"div",3,4),t.YNc(6,F,2,1,"div",5),t.YNc(7,st,17,4,"div",6),t.qZA(),t.YNc(8,ct,2,4,"div",7),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngForOf",i.pathArr),t.xp6(3),t.Q6J("ngForOf",i.pathArr),t.xp6(1),t.Q6J("ngIf",i.selectedFile),t.xp6(1),t.Q6J("ngIf",i.previewFile))},directives:[m.Dg,O.sg,m.MO,n.D6,O.O5,k.wC,M.JJ,M.On],styles:[""]}),r})();var at=d(63677),gt=d(82683),ut=d(92124),it=d(64219),ht=d(13287),_t=d(76083),pt=d(48265),mt=d(61711),Ct=d(72394),ft=d(65882),rt=d(63640);let Ot=(()=>{class r{transform(e){return Number(e)<0?"\u672a\u77e5":e}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275pipe=t.Yjl({name:"minus",type:r,pure:!0}),r})(),Mt=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[P.L,a.m,B.df]]}),r})();t.B6R(Q.N,[n.D6,q.SY,O.O5,at.Ws,at.cm,gt.w,ut.Ls,at.RR,it.wO,O.sg,it.r9,ht.z,_t.y,pt.A,C.N8,C.Om,C.$Z,C.Uo,C._C,C.qD,C.p0,j,g,mt.dE,S,Ct.a,k.vf,M.JJ,M.On,ft.u,rt.du,rt.Hf,dt],[c.o9,J.CT,Ot])},58631:(N,y,d)=>{d.d(y,{u:()=>k});var a=d(5e3),t=d(50489),b=d(50939),n=d(69808);function O(M,D){if(1&M){const _=a.EpF();a.TgZ(0,"tr",7),a.NdJ("click",function(){const I=a.CHM(_).$implicit;return a.oxw().handleClick(I)}),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA()()}if(2&M){const _=D.$implicit,x=a.oxw();a.ekj("selected",x.opTrackerId==_.id),a.xp6(2),a.Oqu(_.operatorId),a.xp6(2),a.Oqu(_.operatorAlias),a.xp6(2),a.Oqu(_.duration)}}function C(M,D){if(1&M&&(a.TgZ(0,"tr")(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a._uU(10),a.qZA(),a.TgZ(11,"td"),a._uU(12),a.qZA()()),2&M){const _=D.$implicit;a.xp6(2),a.Oqu(_.portName),a.xp6(2),a.Oqu(_.processedCount),a.xp6(2),a.Oqu(_.maxCachedCount),a.xp6(2),a.Oqu(_.inputRate),a.xp6(2),a.Oqu(_.outputRate),a.xp6(2),a.Oqu(_.packetCount)}}let k=(()=>{class M{constructor(_){this.api=_,this.taskId="",this.selectEvent=new a.vpe,this.operatorData=[],this.portData=[]}ngOnInit(){this.api.operatorTrackerList(this.taskId).subscribe(_=>{this.operatorData=_,this.operatorData&&this.operatorData.length&&this.handleClick(this.operatorData[0])})}operatorTracker(_){this.api.operatorTracker(_).subscribe(x=>{this.operatorData=[...this.operatorData,x]}),this.portTrackerList(_)}portTrackerList(_){this.opTrackerId!==_&&(this.opTrackerId=_,this.api.portTrackerList(_).subscribe(x=>{this.portData=x}))}clear(){this.operatorData=[],this.portData=[]}handleClick(_){this.portTrackerList(_.id),this.selectEvent.emit(_.operatorId)}selectedOperatorHandler(_){var x;const z=null===(x=this.operatorData.find(I=>I.operatorId===_))||void 0===x?void 0:x.id;z&&this.portTrackerList(z)}}return M.\u0275fac=function(_){return new(_||M)(a.Y36(t.k5))},M.\u0275cmp=a.Xpm({type:M,selectors:[["app-run-state"]],inputs:{taskId:"taskId"},outputs:{selectEvent:"selectEvent"},decls:32,vars:6,consts:[[1,"operator-box","fl"],[3,"nzData","nzFrontPagination"],["operatorTable",""],[3,"selected","click",4,"ngFor","ngForOf"],[1,"port-box","fr"],["portTable",""],[4,"ngFor","ngForOf"],[3,"click"]],template:function(_,x){if(1&_&&(a.TgZ(0,"div",0)(1,"nz-table",1,2)(3,"thead")(4,"tr")(5,"th"),a._uU(6,"\u5b9e\u4f8b\u540d"),a.qZA(),a.TgZ(7,"th"),a._uU(8,"\u7b97\u5b50\u540d"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"\u8fd0\u884c\u65f6\u957f"),a.qZA()()(),a.TgZ(11,"tbody"),a.YNc(12,O,7,5,"tr",3),a.qZA()()(),a.TgZ(13,"div",4)(14,"nz-table",1,5)(16,"thead")(17,"tr")(18,"th"),a._uU(19,"\u7aef\u53e3\u540d"),a.qZA(),a.TgZ(20,"th"),a._uU(21,"\u6570\u636e\u91cf"),a.qZA(),a.TgZ(22,"th"),a._uU(23,"\u6700\u5927\u7f13\u5b58"),a.qZA(),a.TgZ(24,"th"),a._uU(25,"\u8f93\u5165\u901f\u7387"),a.qZA(),a.TgZ(26,"th"),a._uU(27,"\u8f93\u51fa\u901f\u7387"),a.qZA(),a.TgZ(28,"th"),a._uU(29,"\u96c6\u5408\u6570\u91cf"),a.qZA()()(),a.TgZ(30,"tbody"),a.YNc(31,C,13,6,"tr",6),a.qZA()()()),2&_){const z=a.MAs(2),I=a.MAs(15);a.xp6(1),a.Q6J("nzData",x.operatorData)("nzFrontPagination",!1),a.xp6(11),a.Q6J("ngForOf",z.data),a.xp6(2),a.Q6J("nzData",x.portData)("nzFrontPagination",!1),a.xp6(17),a.Q6J("ngForOf",I.data)}},directives:[b.N8,b.Om,b.$Z,b.Uo,b._C,b.p0,n.sg],styles:["html.default[_ngcontent-%COMP%]   html[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{min-width:1366px}html.default[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}html.default[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .layout[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;flex:auto;flex-direction:column}html.default[_ngcontent-%COMP%]   .fdc[_ngcontent-%COMP%]{flex-direction:column}html.default[_ngcontent-%COMP%]   .fdr[_ngcontent-%COMP%]{flex-direction:row}html.default[_ngcontent-%COMP%]   .fauto[_ngcontent-%COMP%]{flex:auto}html.default[_ngcontent-%COMP%]   .pf[_ngcontent-%COMP%]{position:fixed}html.default[_ngcontent-%COMP%]   .pr[_ngcontent-%COMP%]{position:relative}html.default[_ngcontent-%COMP%]   .pa[_ngcontent-%COMP%]{position:absolute}html.default[_ngcontent-%COMP%]   .fl[_ngcontent-%COMP%]{float:left}html.default[_ngcontent-%COMP%]   .fr[_ngcontent-%COMP%]{float:right}html.default[_ngcontent-%COMP%]   .clear-f[_ngcontent-%COMP%]{clear:both}html.default[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-table-pagination.ant-pagination[_ngcontent-%COMP%]{margin:0}html.default[_ngcontent-%COMP%]   .ant-pagination[_ngcontent-%COMP%]{text-align:right}html.default[_ngcontent-%COMP%]   .ant-table-column-sorter[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger[_ngcontent-%COMP%]{color:#a1a1a1}html.default[_ngcontent-%COMP%]   .ant-table-filter-trigger.active[_ngcontent-%COMP%]{color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-sort[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-table-thead[_ngcontent-%COMP%]   th.ant-table-column-has-sorters[_ngcontent-%COMP%]:hover{background:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-tree-switcher[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-tree-indent-unit[_ngcontent-%COMP%]{width:17px;color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tree[_ngcontent-%COMP%]   .ant-tree-node-content-wrapper[_ngcontent-%COMP%]{padding:0}html.default[_ngcontent-%COMP%]   .ant-tree-checkbox-inner[_ngcontent-%COMP%]{display:inline-block}html.default[_ngcontent-%COMP%]   .ant-select-tree[_ngcontent-%COMP%]   .ant-select-tree-node-content-wrapper.ant-select-tree-node-selected[_ngcontent-%COMP%]:hover{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-modal-title[_ngcontent-%COMP%]{color:#396669}html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-item-selected[_ngcontent-%COMP%], html.default[_ngcontent-%COMP%]   .ant-dropdown-menu-submenu-title-selected[_ngcontent-%COMP%]{background-color:#e2eeee}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]{background-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-badge-status-processing[_ngcontent-%COMP%]:after{border-color:#2a8b92}html.default[_ngcontent-%COMP%]   .ant-tooltip[_ngcontent-%COMP%]{max-width:550px;max-height:550px;overflow:hidden}html.default[_ngcontent-%COMP%]   .ant-tooltip-content[_ngcontent-%COMP%]{width:100%;height:100%;max-width:550px;max-height:542px}html.default[_ngcontent-%COMP%]   .ant-tooltip-inner[_ngcontent-%COMP%]{box-shadow:none}html.default   [_nghost-%COMP%]   .operator-box[_ngcontent-%COMP%], html.default   [_nghost-%COMP%]   .port-box[_ngcontent-%COMP%]{width:calc(50% - 5px);height:100%;overflow-y:auto}html.default   [_nghost-%COMP%]   .operator-box[_ngcontent-%COMP%]{padding-right:0}html.default   [_nghost-%COMP%]   .port-box[_ngcontent-%COMP%]{padding-left:0}html.default   [_nghost-%COMP%]     .ant-table>.ant-table-container>.ant-table-content>table>tbody>tr>td{padding:2px 4px}html.default   [_nghost-%COMP%]     .ant-table>.ant-table-container>.ant-table-content>table>thead>tr>th{padding:2px 4px}html.default   [_nghost-%COMP%]     th, html.default   [_nghost-%COMP%]     td{white-space:nowrap}html.default   [_nghost-%COMP%]     tr td{cursor:pointer}html.default   [_nghost-%COMP%]     tr.selected td{background-color:#e2eeee}html.dark   [_nghost-%COMP%]   .operator-box[_ngcontent-%COMP%], html.dark   [_nghost-%COMP%]   .port-box[_ngcontent-%COMP%]{width:calc(50% - 5px);height:100%;overflow-y:auto}html.dark   [_nghost-%COMP%]   .operator-box[_ngcontent-%COMP%]{padding-right:0}html.dark   [_nghost-%COMP%]   .port-box[_ngcontent-%COMP%]{padding-left:0}html.dark   [_nghost-%COMP%]     .ant-table>.ant-table-container>.ant-table-content>table>tbody>tr>td{padding:2px 4px}html.dark   [_nghost-%COMP%]     .ant-table>.ant-table-container>.ant-table-content>table>thead>tr>th{padding:2px 4px}html.dark   [_nghost-%COMP%]     th, html.dark   [_nghost-%COMP%]     td{white-space:nowrap}html.dark   [_nghost-%COMP%]     tr td{cursor:pointer}html.dark   [_nghost-%COMP%]     tr.selected td{background-color:#e6edf7}"]}),M})()},69376:(N,y,d)=>{d.d(y,{e:()=>b});var a=d(82886),t=d(5e3);let b=(()=>{class n{}return n.\u0275fac=function(C){return new(C||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[a.m]]}),n})()},81800:(N,y,d)=>{d.d(y,{c:()=>n});var a=d(5e3),t=d(50489),b=d(72394);let n=(()=>{class O{constructor(k){this.api=k,this.columns=[{i18n:"\u53d8\u91cf\u540d",field:"name"},{i18n:"\u53d8\u91cf\u503c",field:"value"}]}ngOnInit(){}ngOnChanges(k){!this.taskId||this.api.getJobTaskVariables(this.taskId).subscribe(M=>{try{this.data=[];const D=JSON.parse(M),_=[];Object.keys(D).map(x=>{_.push({name:x,value:D[x]})}),this.data=_}catch(D){}})}}return O.\u0275fac=function(k){return new(k||O)(a.Y36(t.k5))},O.\u0275cmp=a.Xpm({type:O,selectors:[["app-run-variable"]],inputs:{taskId:"taskId"},features:[a.TTD],decls:1,vars:2,consts:[["size","small",3,"columns","data"]],template:function(k,M){1&k&&a._UZ(0,"app-table",0),2&k&&a.Q6J("columns",M.columns)("data",M.data)},directives:[b.a],styles:[""]}),O})()},55786:(N,y,d)=>{d.d(y,{v:()=>b});var a=d(82886),t=d(5e3);let b=(()=>{class n{}return n.\u0275fac=function(C){return new(C||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[a.m]]}),n})()}}]);